<!DOCTYPE html>
<html>
    <!-- title -->




<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" >
    <meta name="author" content="Hayato">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Hayato">
    <meta name="keywords" content="Hayato's Studio | Hayato">
    <meta name="description" content="">
    <meta name="Cache-Control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>SQL · Hayato&#39;s Studio</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s 1;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href= /css/style.css?v=20180709 as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="stylesheet" href= /css/mobile.css?v=20180709 media="(max-width: 980px)">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
</script>

    <link rel="icon" href= "/assets/favicon.ico" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js" as="script" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" as="script" />
    <link rel="preload" href="/scripts/main.js" as="script" />
    <link rel="preload" as="font" href="/font/Oswald-Regular.ttf" crossorigin>
    <link rel="preload" as="font" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" crossorigin>
    
    <!-- fancybox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
</head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >Hayato&#39;s Studio.</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">SQL</a>
            </div>
    </div>
    
    <a class="home-link" href=/>Hayato's Studio.</a>
</header>
    <div class="wrapper">
        <div class="site-intro" style=








height:50vh;

>
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            SQL
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "SQL">SQL</a>
    
</div>
                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count">20,222</span> / Reading time: <span class="post-count">87 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                    <span class="post-intro-time">2015/03/11</span>
                    
                    <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                        <span class="iconfont-archer">&#xe602;</span>
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    
                    <span class="shareWrapper">
                        <span class="iconfont-archer shareIcon">&#xe71d;</span>
                        <span class="shareText">Share</span>
                        <ul class="shareList">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>
        <script>
 
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  function asyncErr(){
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (cb) { o.addEventListener('load', function (e) { cb(null, e); }, false); }
    if (err) { o.addEventListener('error', function (e) { err(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }

  var asyncLoadWithFallBack = function(arr, success, reject) {
      var currReject = function(){
        reject()
        arr.shift()
        if(arr.length)
          async(arr[0], success, currReject)
        }

      async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack([
    "https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", 
    "https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js",
    "/lib/webfontloader.min.js"
  ], asyncCb, asyncErr)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <h1 id="——————-SQL基础-——————"><a href="#——————-SQL基础-——————" class="headerlink" title="—————— SQL基础 ——————"></a>—————— SQL基础 ——————</h1><p><a href="http://www.runoob.com/sql/sql-tutorial.html" target="_blank" rel="noopener">reference:W3CSCHOOL SQL教程</a></p>
<h2 id="SQL介绍"><a href="#SQL介绍" class="headerlink" title="SQL介绍"></a>SQL介绍</h2><p>SQL 是用于访问和处理数据库的标准的计算机语言。关于SQL的具体介绍，我们通过回答如下三个问题来进行。<br></p>
<h3 id="SQL-是什么"><a href="#SQL-是什么" class="headerlink" title="SQL 是什么"></a>SQL 是什么</h3><ul>
<li>SQL，指结构化查询语言，全称是 Structured Query Language。</li>
<li>SQL 是一种 ANSI（American National Standards Institute 美国国家标准化组织）标准的计算机语言。</li>
</ul>
<h3 id="SQL-能做什么"><a href="#SQL-能做什么" class="headerlink" title="SQL 能做什么"></a>SQL 能做什么</h3><ul>
<li>SQL 面向数据库执行查询</li>
<li>SQL 可从数据库取回数据</li>
<li>SQL 可在数据库中插入新的记录</li>
<li>SQL 可更新数据库中的数据</li>
<li>SQL 可从数据库删除记录</li>
<li>SQL 可创建新数据库</li>
<li>SQL 可在数据库中创建新表</li>
<li>SQL 可在数据库中创建存储过程</li>
<li>SQL 可在数据库中创建视图</li>
<li>SQL 可以设置表、存储过程和视图的权限<br></li>
</ul>
<p>虽然 SQL 是一门 ANSI（American National Standards Institute 美国国家标准化组织）标准的计算机语言，但是仍然存在着多种不同版本的 SQL 语言。然而，为了与 ANSI 标准相兼容，它们必须以相似的方式共同地来支持一些主要的命令（比如 SELECT、UPDATE、DELETE、INSERT、WHERE 等等）。<br><br><strong>注释</strong>:除了 SQL 标准之外，大部分 SQL 数据库程序都拥有它们自己的专有扩展！<br></p>
<h3 id="在网站上如何使用-SQL"><a href="#在网站上如何使用-SQL" class="headerlink" title="在网站上如何使用 SQL?"></a>在网站上如何使用 SQL?</h3><p>要创建一个显示数据库中数据的网站，需要：</p>
<ul>
<li>RDBMS 数据库程序（比如 MS Access、SQL Server、MySQL）</li>
<li>使用服务器端脚本语言，比如 PHP 或 ASP</li>
<li>使用 SQL 来获取您想要的数据</li>
<li>使用 HTML / CSS<br><br><strong>注释:</strong>RDBMS （Relational Database Management System）指关系型数据库管理系统。RDBMS 是 SQL 的基础，同样也是所有现代数据库系统的基础，比如 MS SQL Server、IBM DB2、Oracle、MySQL 以及 Microsoft Access。RDBMS 中的数据存储在被称为表的数据库对象中。表是相关的数据项的集合，它由列和行组成。</li>
</ul>
<h2 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h2><p>在数据库上执行的大部分工作都由 SQL 语句完成。我们先介绍几个有关SQL的注意事项，为我们接下来详细介绍每一条SQL做一个基础。</p>
<h3 id="SQL语句的大小写问题"><a href="#SQL语句的大小写问题" class="headerlink" title="SQL语句的大小写问题"></a>SQL语句的大小写问题</h3><p>SQL 对大小写不敏感：SELECT 与 select 是相同的。</p>
<h3 id="SQL-语句后面的分号问题"><a href="#SQL-语句后面的分号问题" class="headerlink" title="SQL 语句后面的分号问题"></a>SQL 语句后面的分号问题</h3><p>某些数据库系统要求在每条 SQL 语句的末端使用分号。<br></p>
<p>分号是在数据库系统中分隔每条 SQL 语句的标准方法，这样就可以在对服务器的相同请求中执行一条以上的 SQL 语句。</p>
<h3 id="一些重要的-SQL-命令："><a href="#一些重要的-SQL-命令：" class="headerlink" title="一些重要的 SQL 命令："></a>一些重要的 SQL 命令：</h3><ul>
<li>SELECT - 从数据库中提取数据</li>
<li>UPDATE - 更新数据库中的数据</li>
<li>DELETE - 从数据库中删除数据</li>
<li>INSERT INTO - 向数据库中插入新数据</li>
<li>CREATE DATABASE - 创建新数据库</li>
<li>ALTER DATABASE - 修改数据库</li>
<li>CREATE TABLE - 创建新表</li>
<li>ALTER TABLE - 变更（改变）数据库表</li>
<li>DROP TABLE - 删除表</li>
<li>CREATE INDEX - 创建索引（搜索键）</li>
<li>DROP INDEX - 删除索引</li>
</ul>
<h2 id="SQL-SELECT语句"><a href="#SQL-SELECT语句" class="headerlink" title="SQL SELECT语句"></a>SQL SELECT语句</h2><p>SELECT 语句用于从数据库中选取数据，结果被存储在一个结果表中，称为结果集。</p>
<p>SQL SELECT 语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name</span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure>
<p>与<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM table_name;</span><br></pre></td></tr></table></figure></p>
<p>本文中，我们使用众所周知的 Northwind 样本数据库进行举例介绍。下面是选自 “Customers” 表的数据：</p>
<table>
<thead>
<tr>
<th style="text-align:left">CustomerID</th>
<th style="text-align:left">CustomerName</th>
<th style="text-align:left">ContactName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
<th style="text-align:left">PostalCode</th>
<th style="text-align:left">Country</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Alfreds Futterkiste</td>
<td style="text-align:left">Maria Anders</td>
<td style="text-align:left">ObereStr. 57</td>
<td style="text-align:left">Berlin</td>
<td style="text-align:left">12209</td>
<td style="text-align:left">Germany</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Ana</td>
<td style="text-align:left">Trujillo Emparedados y helados</td>
<td style="text-align:left">Ana Trujillo</td>
<td style="text-align:left">Avda. de la Constitución 2222</td>
<td style="text-align:left">México D.F.05021</td>
<td style="text-align:left">Mexico</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Antonio Moreno Taquería</td>
<td style="text-align:left">Antonio Moreno</td>
<td style="text-align:left">Mataderos 2312</td>
<td style="text-align:left">México D.F.</td>
<td style="text-align:left">05023</td>
<td style="text-align:left">Mexico</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">Around the Horn</td>
<td style="text-align:left">Thomas Hardy</td>
<td style="text-align:left">120 Hanover Sq.</td>
<td style="text-align:left">London</td>
<td style="text-align:left">WA1 1DP    UK</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">Berglunds snabbköp</td>
<td style="text-align:left">Christina Berglund</td>
<td style="text-align:left">Berguvsvägen 8</td>
<td style="text-align:left">Luleå</td>
<td style="text-align:left">S-958 22</td>
<td style="text-align:left">Sweden</td>
</tr>
</tbody>
</table>
<p>下面的 SQL 语句从 “Customers” 表中选取 “CustomerName” 和 “City” 列：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT CustomerName,City FROM Customers;</span><br></pre></td></tr></table></figure></p>
<p>下面的 SQL 语句从 “Customers” 表中选取所有列：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers;</span><br></pre></td></tr></table></figure></p>
<p>在表中，一个列可能会包含多个重复值，有时也许希望仅仅列出不同（distinct）的值。<br><strong>DISTINCT 关键词用于返回唯一不同的值。</strong><br>SQL SELECT DISTINCT 语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT column_name,column_name</span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-WHERE语句"><a href="#SQL-WHERE语句" class="headerlink" title="SQL WHERE语句"></a>SQL WHERE语句</h2><p>WHERE 子句用于提取那些满足指定标准的记录。</p>
<p>SQL WHERE语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name operator value;</span><br></pre></td></tr></table></figure></p>
<p>下面的 SQL 语句从 “Customers” 表中选取国家为 “Mexico” 的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">WHERE Country=&apos;Mexico&apos;;</span><br></pre></td></tr></table></figure></p>
<p>SQL 使用单引号来环绕文本值（大部分数据库系统也接受双引号）。如果是数值字段，请不要使用引号。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">WHERE CustomerID=1;</span><br></pre></td></tr></table></figure></p>
<h3 id="WHERE-子句中的运算符"><a href="#WHERE-子句中的运算符" class="headerlink" title="WHERE 子句中的运算符"></a>WHERE 子句中的运算符</h3><p>下面的运算符可以在 WHERE 子句中使用：</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">等于</td>
</tr>
<tr>
<td style="text-align:left">&lt;&gt;</td>
<td style="text-align:left">不等于(注释:在SQL的一些版本中，该操作符可被写成 !=)</td>
</tr>
<tr>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">大于</td>
</tr>
<tr>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">小于</td>
</tr>
<tr>
<td style="text-align:left">&gt;=</td>
<td style="text-align:left">大于等于</td>
</tr>
<tr>
<td style="text-align:left">&lt;=</td>
<td style="text-align:left">小于等于</td>
</tr>
<tr>
<td style="text-align:left">BETWEEN</td>
<td style="text-align:left">在某个范围内</td>
</tr>
<tr>
<td style="text-align:left">LIKE</td>
<td style="text-align:left">搜索某种模式</td>
</tr>
<tr>
<td style="text-align:left">IN</td>
<td style="text-align:left">指定针对某个列的多个可能值</td>
</tr>
</tbody>
</table>
<h2 id="SQL-AND与OR关键字"><a href="#SQL-AND与OR关键字" class="headerlink" title="SQL AND与OR关键字"></a>SQL AND与OR关键字</h2><p>AND &amp; OR 运算符用于基于一个以上的条件对记录进行过滤。</p>
<p>下面的 SQL 语句从 “Customers” 表中选取国家为 “Germany” 且城市为 “Berlin” 的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">WHERE Country=&apos;Germany&apos;</span><br><span class="line">AND City=&apos;Berlin&apos;;</span><br></pre></td></tr></table></figure></p>
<p>下面的 SQL 语句从 “Customers” 表中选取城市为 “Berlin” 或者 “München” 的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">WHERE City=&apos;Berlin&apos;</span><br><span class="line">OR City=&apos;München&apos;;</span><br></pre></td></tr></table></figure></p>
<p>下面的 SQL 语句从 “Customers” 表中选取国家为 “Germany” 且城市为 “Berlin” 或者 “München” 的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">WHERE Country=&apos;Germany&apos;</span><br><span class="line">AND (City=&apos;Berlin&apos; OR City=&apos;München&apos;);</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-ORDER-BY关键字"><a href="#SQL-ORDER-BY关键字" class="headerlink" title="SQL ORDER BY关键字"></a>SQL ORDER BY关键字</h2><p>ORDER BY 关键字用于对结果集按照一个列或者多个列进行排序。<font color="#FF0000" size="2">ORDER BY 关键字默认按照升序对记录进行排序。如果需要按照降序对记录进行排序，您可以使用 DESC 关键字。</font></p>
<p>ORDER BY语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name</span><br><span class="line">FROM table_name</span><br><span class="line">ORDER BY column_name,column_name ASC|DESC;</span><br></pre></td></tr></table></figure></p>
<p>下面的 SQL 语句从 “Customers” 表中选取所有客户，并按照 “Country” 列升序排序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">ORDER BY Country;</span><br></pre></td></tr></table></figure></p>
<p>下面的 SQL 语句从 “Customers” 表中选取所有客户，并按照 “Country” 列降序排序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">ORDER BY Country DESC;</span><br></pre></td></tr></table></figure></p>
<p>下面的 SQL 语句从 “Customers” 表中选取所有客户，并按照 “Country” 和 “CustomerName” 列排序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Customers</span><br><span class="line">ORDER BY Country,CustomerName;</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-INSERT-INTO语句"><a href="#SQL-INSERT-INTO语句" class="headerlink" title="SQL INSERT INTO语句"></a>SQL INSERT INTO语句</h2><p>INSERT INTO 语句用于向表中插入新记录。</p>
<p>INSERT INTO 语句可以有两种编写形式。第一种形式无需指定要插入数据的列名，只需提供被插入的值即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name</span><br><span class="line">VALUES (value1,value2,value3,...);</span><br></pre></td></tr></table></figure></p>
<p>第二种形式需要指定列名及被插入的值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name (column1,column2,column3,...)</span><br><span class="line">VALUES (value1,value2,value3,...);</span><br></pre></td></tr></table></figure></p>
<p>假如插入操作前的表如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">CustomerID</th>
<th style="text-align:left">CustomerName</th>
<th style="text-align:left">ContactName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
<th style="text-align:left">PostalCode</th>
<th style="text-align:left">Country</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">87</td>
<td style="text-align:left">Wartian-Herkku</td>
<td style="text-align:left">Pirkko-Koskitalo</td>
<td style="text-align:left">Torikatu-38</td>
<td style="text-align:left">Oulu</td>
<td style="text-align:left">90110</td>
<td style="text-align:left">Finland</td>
</tr>
<tr>
<td style="text-align:left">88</td>
<td style="text-align:left">Wellington-Importadora</td>
<td style="text-align:left">Paula-Parente</td>
<td style="text-align:left">Rua-do-Mercado,12</td>
<td style="text-align:left">Resende</td>
<td style="text-align:left">08737-363</td>
<td style="text-align:left">Brazil</td>
</tr>
<tr>
<td style="text-align:left">89</td>
<td style="text-align:left">White-Clover-Markets</td>
<td style="text-align:left">Karl-Jablonski</td>
<td style="text-align:left">305-14th-Ave.S.Suite-3B</td>
<td style="text-align:left">Seattle</td>
<td style="text-align:left">98128</td>
<td style="text-align:left">USA</td>
</tr>
<tr>
<td style="text-align:left">90</td>
<td style="text-align:left">Wilman-Kala</td>
<td style="text-align:left">Matti-Karttunen</td>
<td style="text-align:left">Keskuskatu-45</td>
<td style="text-align:left">Helsinki</td>
<td style="text-align:left">21240</td>
<td style="text-align:left">Finland</td>
</tr>
<tr>
<td style="text-align:left">91</td>
<td style="text-align:left">Wolski</td>
<td style="text-align:left">Zbyszek</td>
<td style="text-align:left">ul.Filtrowa-68</td>
<td style="text-align:left">Walla</td>
<td style="text-align:left">01-012</td>
<td style="text-align:left">Poland</td>
</tr>
</tbody>
</table>
<p>我们要向 “Customers” 表中插入一个新行。我们可以使用下面的 SQL 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Customers (CustomerName, ContactName, Address, City, PostalCode, Country)</span><br><span class="line">VALUES (&apos;Cardinal&apos;,&apos;Tom B. Erichsen&apos;,&apos;Skagen 21&apos;,&apos;Stavanger&apos;,&apos;4006&apos;,&apos;Norway&apos;);</span><br></pre></td></tr></table></figure></p>
<p>执行插入操作以后的表如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">CustomerID</th>
<th style="text-align:left">CustomerName</th>
<th style="text-align:left">ContactName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
<th style="text-align:left">PostalCode</th>
<th style="text-align:left">Country</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">87</td>
<td style="text-align:left">Wartian-Herkku</td>
<td style="text-align:left">Pirkko-Koskitalo</td>
<td style="text-align:left">Torikatu-38</td>
<td style="text-align:left">Oulu</td>
<td style="text-align:left">90110</td>
<td style="text-align:left">Finland</td>
</tr>
<tr>
<td style="text-align:left">88</td>
<td style="text-align:left">Wellington-Importadora</td>
<td style="text-align:left">Paula-Parente</td>
<td style="text-align:left">Rua-do-Mercado,12</td>
<td style="text-align:left">Resende</td>
<td style="text-align:left">08737-363</td>
<td style="text-align:left">Brazil</td>
</tr>
<tr>
<td style="text-align:left">89</td>
<td style="text-align:left">White-Clover-Markets</td>
<td style="text-align:left">Karl-Jablonski</td>
<td style="text-align:left">305-14th-Ave.S.Suite-3B</td>
<td style="text-align:left">Seattle</td>
<td style="text-align:left">98128</td>
<td style="text-align:left">USA</td>
</tr>
<tr>
<td style="text-align:left">90</td>
<td style="text-align:left">Wilman-Kala</td>
<td style="text-align:left">Matti-Karttunen</td>
<td style="text-align:left">Keskuskatu-45</td>
<td style="text-align:left">Helsinki</td>
<td style="text-align:left">21240</td>
<td style="text-align:left">Finland</td>
</tr>
<tr>
<td style="text-align:left">92</td>
<td style="text-align:left">Cardinal</td>
<td style="text-align:left">Tom-B.Erichsen</td>
<td style="text-align:left">Skagen-21</td>
<td style="text-align:left">Stavanger</td>
<td style="text-align:left">4006</td>
<td style="text-align:left">Norway</td>
</tr>
</tbody>
</table>
<p><font color="#FF0000" size="3">注释：</font>我们无需插入CustomerID列，它是自动更新的。<br></p>
<p>我们也可以在指定的列插入数据。<br><br>下面的 SQL 语句将插入一个新行，但是只在 “CustomerName”、”City” 和 “Country” 列插入数据（CustomerID 字段会自动更新）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Customers (CustomerName, City, Country)</span><br><span class="line">VALUES (&apos;Cardinal&apos;, &apos;Stavanger&apos;, &apos;Norway&apos;);</span><br></pre></td></tr></table></figure></p>
<p>插入后的表如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">CustomerID</th>
<th style="text-align:left">CustomerName</th>
<th style="text-align:left">ContactName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
<th style="text-align:left">PostalCode</th>
<th style="text-align:left">Country</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">87</td>
<td style="text-align:left">Wartian-Herkku</td>
<td style="text-align:left">Pirkko-Koskitalo</td>
<td style="text-align:left">Torikatu-38</td>
<td style="text-align:left">Oulu</td>
<td style="text-align:left">90110</td>
<td style="text-align:left">Finland</td>
</tr>
<tr>
<td style="text-align:left">88</td>
<td style="text-align:left">Wellington-Importadora</td>
<td style="text-align:left">Paula-Parente</td>
<td style="text-align:left">Rua-do-Mercado,12</td>
<td style="text-align:left">Resende</td>
<td style="text-align:left">08737-363</td>
<td style="text-align:left">Brazil</td>
</tr>
<tr>
<td style="text-align:left">89</td>
<td style="text-align:left">White-Clover-Markets</td>
<td style="text-align:left">Karl-Jablonski</td>
<td style="text-align:left">305-14th-Ave.S.Suite-3B</td>
<td style="text-align:left">Seattle</td>
<td style="text-align:left">98128</td>
<td style="text-align:left">USA</td>
</tr>
<tr>
<td style="text-align:left">90</td>
<td style="text-align:left">Wilman-Kala</td>
<td style="text-align:left">Matti-Karttunen</td>
<td style="text-align:left">Keskuskatu-45</td>
<td style="text-align:left">Helsinki</td>
<td style="text-align:left">21240</td>
<td style="text-align:left">Finland</td>
</tr>
<tr>
<td style="text-align:left">91</td>
<td style="text-align:left">Wolski</td>
<td style="text-align:left">Zbyszek</td>
<td style="text-align:left">ul.Filtrowa-68</td>
<td style="text-align:left">Walla</td>
<td style="text-align:left">01-012</td>
<td style="text-align:left">Poland</td>
</tr>
<tr>
<td style="text-align:left">92</td>
<td style="text-align:left">Cardinal</td>
<td style="text-align:left">null</td>
<td style="text-align:left">null</td>
<td style="text-align:left">Stavanger</td>
<td style="text-align:left">null</td>
<td style="text-align:left">Norway</td>
</tr>
</tbody>
</table>
<p><font color="#FF0000" size="3">注释：</font>没有复制的列被自动填充为null。</p>
<h2 id="SQL-DELETE语句"><a href="#SQL-DELETE语句" class="headerlink" title="SQL DELETE语句"></a>SQL DELETE语句</h2><p>DELETE 语句用于删除表中的行。</p>
<p>SQL DELETE 语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name</span><br><span class="line">WHERE some_column=some_value;</span><br></pre></td></tr></table></figure></p>
<p><font color="#FF0000" size="3">请注意 SQL DELETE 语句中的 WHERE 子句！</font><br><br><strong>WHERE 子句规定哪条记录或者哪些记录需要删除。如果您省略了 WHERE 子句，所有的记录都将被删除！</strong></p>
<p>假设我们要从 “Customers” 表中删除客户 “Alfreds Futterkiste”。我们使用下面的 SQL 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM Customers</span><br><span class="line">WHERE CustomerName=&apos;Alfreds Futterkiste&apos; AND ContactName=&apos;Maria Anders&apos;;</span><br></pre></td></tr></table></figure></p>
<p>您可以在不删除表的情况下，删除表中所有的行。这意味着表结构、属性、索引将保持不变：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name;</span><br><span class="line">or</span><br><span class="line">DELETE * FROM table_name;</span><br></pre></td></tr></table></figure></p>
<p><font color="#FF0000" size="3">注释：</font>在删除记录时要格外小心！因为不能重来！</p>
<h2 id="SQL-UPDATE语句"><a href="#SQL-UPDATE语句" class="headerlink" title="SQL UPDATE语句"></a>SQL UPDATE语句</h2><p>UPDATE 语句用于更新表中已存在的记录。</p>
<p>SQL UPDATE语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name</span><br><span class="line">SET column1=value1,column2=value2,...</span><br><span class="line">WHERE some_column=some_value;</span><br></pre></td></tr></table></figure></p>
<p><font color="#FF0000" size="3">请注意 SQL UPDATE 语句中的 WHERE 子句！</font><br><br><strong>WHERE 子句规定哪条记录或者哪些记录需要更新。如果您省略了 WHERE 子句，所有的记录都将被更新！</strong></p>
<p>假设我们要把客户 “Alfreds Futterkiste” 更新为一个新的联系人和城市。</p>
<table>
<thead>
<tr>
<th style="text-align:left">CustomerID</th>
<th style="text-align:left">CustomerName</th>
<th style="text-align:left">ContactName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
<th style="text-align:left">PostalCode</th>
<th style="text-align:left">Country</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Alfreds_Futterkiste</td>
<td style="text-align:left">Maria_Anders</td>
<td style="text-align:left">ObereStr.57</td>
<td style="text-align:left">Berlin</td>
<td style="text-align:left">12209</td>
<td style="text-align:left">Germany</td>
</tr>
</tbody>
</table>
<p>我们使用下面的 SQL 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Customers</span><br><span class="line">SET ContactName=&apos;Alfred Schmidt&apos;, City=&apos;Hamburg&apos;</span><br><span class="line">WHERE CustomerName=&apos;Alfreds Futterkiste&apos;;</span><br></pre></td></tr></table></figure></p>
<p>更新后结果：</p>
<table>
<thead>
<tr>
<th style="text-align:left">CustomerID</th>
<th style="text-align:left">CustomerName</th>
<th style="text-align:left">ContactName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
<th style="text-align:left">PostalCode</th>
<th style="text-align:left">Country</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Alfreds_Futterkiste</td>
<td style="text-align:left">Alfred_Schmidt</td>
<td style="text-align:left">ObereStr.57</td>
<td style="text-align:left">Hamburg</td>
<td style="text-align:left">12209</td>
<td style="text-align:left">Germany</td>
</tr>
</tbody>
</table>
<h1 id="——————-SQL高级-——————"><a href="#——————-SQL高级-——————" class="headerlink" title="—————— SQL高级 ——————"></a>—————— SQL高级 ——————</h1><h2 id="SQL-SELECT-TOP-LIMIT-ROWNUM-子句"><a href="#SQL-SELECT-TOP-LIMIT-ROWNUM-子句" class="headerlink" title="SQL SELECT TOP, LIMIT, ROWNUM 子句"></a>SQL SELECT TOP, LIMIT, ROWNUM 子句</h2><ul>
<li>SELECT TOP 子句用于规定要返回的记录的数目。</li>
<li>SELECT TOP 子句对于拥有数千条记录的大型表来说，是非常有用的。<br><br><font color="#FF0000" size="3">注意：</font>并非所有的数据库系统都支持 SELECT TOP 语句。 MySQL 支持 LIMIT 语句来选取指定的条数数据， Oracle 可以使用 ROWNUM 来选取。</li>
</ul>
<h3 id="SQL-Server-MS-Access-语法"><a href="#SQL-Server-MS-Access-语法" class="headerlink" title="SQL Server / MS Access 语法"></a>SQL Server / MS Access 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP number|percent column_name(s)</span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="MySQL-语法"><a href="#MySQL-语法" class="headerlink" title="MySQL 语法"></a>MySQL 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">LIMIT number;</span><br></pre></td></tr></table></figure>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">FROM Persons</span><br><span class="line">LIMIT 5;</span><br></pre></td></tr></table></figure>
<h3 id="Oracle-语法"><a href="#Oracle-语法" class="headerlink" title="Oracle 语法"></a>Oracle 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE ROWNUM &lt;= number;</span><br></pre></td></tr></table></figure>
<h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">FROM Persons</span><br><span class="line">WHERE ROWNUM &lt;=5;</span><br></pre></td></tr></table></figure>
<h3 id="演示数据库"><a href="#演示数据库" class="headerlink" title="演示数据库"></a>演示数据库</h3><p>在本教程中，我们将使用 RUNOOB 样本数据库。</p>
<p>下面是选自 “Websites” 表的数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM Websites;</span><br><span class="line">+----+---------------+---------------------------+-------+---------+</span><br><span class="line">| id | name          | url                       | alexa | country |</span><br><span class="line">+----+---------------+---------------------------+-------+---------+</span><br><span class="line">|  1 | Google        | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|  2 | 淘宝          | https://www.taobao.com/   |    13 | CN      |</span><br><span class="line">|  3 | 菜鸟教程       | http://www.runoob.com/    |  5000 | USA     |</span><br><span class="line">|  4 | 微博           | http://weibo.com/         |    20 | CN      |</span><br><span class="line">|  5 | Facebook      | https://www.facebook.com/ |     3 | USA     |</span><br><span class="line">|  7 | stackoverflow | http://stackoverflow.com/ |     0 | IND     |</span><br><span class="line">+----+---------------+---------------------------+-------+---------+</span><br></pre></td></tr></table></figure></p>
<p>下面是 “access_log” 网站访问记录表的数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM access_log;</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line">| aid | site_id | count | date       |</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line">|   1 |       1 |    45 | 2016-05-10 |</span><br><span class="line">|   2 |       3 |   100 | 2016-05-13 |</span><br><span class="line">|   3 |       1 |   230 | 2016-05-14 |</span><br><span class="line">|   4 |       2 |    10 | 2016-05-14 |</span><br><span class="line">|   5 |       5 |   205 | 2016-05-14 |</span><br><span class="line">|   6 |       4 |    13 | 2016-05-15 |</span><br><span class="line">|   7 |       3 |   220 | 2016-05-15 |</span><br><span class="line">|   8 |       5 |   545 | 2016-05-16 |</span><br><span class="line">|   9 |       3 |   201 | 2016-05-17 |</span><br><span class="line">+-----+---------+-------+------------+</span><br></pre></td></tr></table></figure></p>
<p>下面是 “apps” APP 的数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM apps;</span><br><span class="line">+----+------------+-------------------------+---------+</span><br><span class="line">| id | app_name   | url                     | country |</span><br><span class="line">+----+------------+-------------------------+---------+</span><br><span class="line">|  1 | QQ APP     | http://im.qq.com/       | CN      |</span><br><span class="line">|  2 | 微博 APP | http://weibo.com/       | CN      |</span><br><span class="line">|  3 | 淘宝 APP | https://www.taobao.com/ | CN      |</span><br><span class="line">+----+------------+-------------------------+---------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure></p>
<p><strong>请注意，”Websites” 表中的 “id” 列指向 “access_log” 表中的字段 “site_id”。上面这两个表是通过 “site_id” 列联系起来的。</strong></p>
<h3 id="MySQL-SELECT-LIMIT-实例"><a href="#MySQL-SELECT-LIMIT-实例" class="headerlink" title="MySQL SELECT LIMIT 实例"></a>MySQL SELECT LIMIT 实例</h3><p>下面的 SQL 语句从 “Websites” 表中选取头两条记录：</p>
<h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites LIMIT 2;</span><br></pre></td></tr></table></figure>
<p>执行以上 SQL，数据如下所示：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLMySQLSELECTLIMIT.jpg" alt=""></p>
<h3 id="SQL-SELECT-TOP-PERCENT-实例"><a href="#SQL-SELECT-TOP-PERCENT-实例" class="headerlink" title="SQL SELECT TOP PERCENT 实例"></a>SQL SELECT TOP PERCENT 实例</h3><p>在 Microsoft SQL Server 中还可以使用百分比作为参数。</p>
<p>下面的 SQL 语句从 websites 表中选取前面百分之 50 的记录：</p>
<h4 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h4><p>以下操作在 Microsoft SQL Server 数据库中可执行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 50 PERCENT * FROM Websites;</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-LIKE-操作符"><a href="#SQL-LIKE-操作符" class="headerlink" title="SQL LIKE 操作符"></a>SQL LIKE 操作符</h2><p>LIKE 操作符用于在 WHERE 子句中搜索列中的指定模式。</p>
<p>LIKE 操作符用于在 WHERE 子句中搜索列中的指定模式。</p>
<h3 id="SQL-LIKE-语法"><a href="#SQL-LIKE-语法" class="headerlink" title="SQL LIKE 语法"></a>SQL LIKE 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name LIKE pattern;</span><br></pre></td></tr></table></figure>
<h3 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句选取 name 以字母 “G” 开始的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name LIKE &apos;G%&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：</p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLLike.jpg" alt=""></p>
<p>下面的 SQL 语句选取 name 以字母 “k” 结尾的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name LIKE &apos;%k&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLlike2.jpg" alt=""><br>下面的 SQL 语句选取 name 包含模式 “oo” 的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name LIKE &apos;%oo%&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLlike3.jpg" alt=""></p>
<p><font color="#FF0000" size="3">通过使用 NOT 关键字，您可以选取不匹配模式的记录。</font><br>下面的 SQL 语句选取 name 不包含模式 “oo” 的所有客户：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name NOT LIKE &apos;%oo%&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLNotlike.jpg" alt=""></p>
<h2 id="SQL-通配符"><a href="#SQL-通配符" class="headerlink" title="SQL 通配符"></a>SQL 通配符</h2><p>通配符可用于替代字符串中的任何其他字符。</p>
<p>在 SQL 中，通配符与 SQL LIKE 操作符一起使用。<br><br>SQL 通配符用于搜索表中的数据。<br><br>在 SQL 中，可使用以下通配符：<br></p>
<table>
<thead>
<tr>
<th style="text-align:left">通配符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">%</td>
<td style="text-align:left">替代 0 个或多个字符</td>
</tr>
<tr>
<td style="text-align:left">_</td>
<td style="text-align:left">替代一个字符</td>
</tr>
<tr>
<td style="text-align:left">[charlist]</td>
<td style="text-align:left">字符列中的任何单一字符</td>
</tr>
<tr>
<td style="text-align:left">[^charlist]<br>或<br>[!charlist]</td>
<td style="text-align:left">不在字符列中的任何单一字符</td>
</tr>
</tbody>
</table>
<h3 id="使用-SQL-通配符"><a href="#使用-SQL-通配符" class="headerlink" title="使用 SQL % 通配符"></a>使用 SQL % 通配符</h3><p>下面的 SQL 语句选取 url 以字母 “https” 开始的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE url LIKE &apos;https%&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLwildcards1.jpg" alt=""><br>下面的 SQL 语句选取 url 包含模式 “oo” 的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE url LIKE &apos;%oo%&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLwildcards2.jpg" alt=""></p>
<h3 id="使用-SQL-通配符-1"><a href="#使用-SQL-通配符-1" class="headerlink" title="使用 SQL _ 通配符"></a>使用 SQL _ 通配符</h3><p>下面的 SQL 语句选取 name 以 “G” 开始，然后是一个任意字符，然后是 “o”，然后是一个任意字符，然后是 “le” 的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name LIKE &apos;G_o_le&apos;;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLwildcards4.jpg" alt=""></p>
<h3 id="使用-SQL-charlist-通配符"><a href="#使用-SQL-charlist-通配符" class="headerlink" title="使用 SQL [charlist] 通配符"></a>使用 SQL [charlist] 通配符</h3><p>MySQL 中使用 <strong>REGEXP</strong> 或 <strong>NOT REGEXP</strong> 运算符 (或 RLIKE 和 NOT RLIKE) 来操作正则表达式。</p>
<p>下面的 SQL 语句选取 name 以 A 到 H 字母开头的网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name REGEXP &apos;^[A-H]&apos;;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLwildcards6.jpg" alt=""></p>
<p>下面的 SQL 语句选取 name 不以 A 到 H 字母开头的网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name REGEXP &apos;^[^A-H]&apos;;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLwildcards7.jpg" alt=""></p>
<h2 id="SQL-IN-操作符"><a href="#SQL-IN-操作符" class="headerlink" title="SQL IN 操作符"></a>SQL IN 操作符</h2><p>IN 操作符允许您在 WHERE 子句中规定多个值。</p>
<h3 id="SQL-IN-语法"><a href="#SQL-IN-语法" class="headerlink" title="SQL IN 语法"></a>SQL IN 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name IN (value1,value2,...);</span><br></pre></td></tr></table></figure>
<h3 id="实例-5"><a href="#实例-5" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句选取 name 为 “Google” 或 “菜鸟教程” 的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name IN (&apos;Google&apos;,&apos;菜鸟教程&apos;);</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLin1.jpg" alt=""></p>
<h3 id="IN-与-的异同"><a href="#IN-与-的异同" class="headerlink" title="IN 与 = 的异同"></a>IN 与 = 的异同</h3><ul>
<li>相同点：均在WHERE中使用作为筛选条件之一、均是等于的含义</li>
<li>不同点：IN可以规定多个值，等于规定一个值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// IN</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name IN (value1,value2,...);</span><br><span class="line"></span><br><span class="line">// =</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name=value1;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="SQL-BETWEEN-操作符"><a href="#SQL-BETWEEN-操作符" class="headerlink" title="SQL BETWEEN 操作符"></a>SQL BETWEEN 操作符</h2><p>BETWEEN 操作符用于选取介于两个值之间的数据范围内的值。</p>
<p>BETWEEN 操作符选取介于两个值之间的数据范围内的值。这些值可以是数值、文本或者日期。</p>
<h3 id="SQL-BETWEEN-语法"><a href="#SQL-BETWEEN-语法" class="headerlink" title="SQL BETWEEN 语法"></a>SQL BETWEEN 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name BETWEEN value1 AND value2;</span><br></pre></td></tr></table></figure>
<h3 id="实例-6"><a href="#实例-6" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句选取 alexa 介于 1 和 20 之间的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE alexa BETWEEN 1 AND 20;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLbtw1.jpg" alt=""></p>
<h3 id="NOT-BETWEEN-操作符实例"><a href="#NOT-BETWEEN-操作符实例" class="headerlink" title="NOT BETWEEN 操作符实例"></a>NOT BETWEEN 操作符实例</h3><p>如需显示不在上面实例范围内的网站，请使用 NOT BETWEEN：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE alexa NOT BETWEEN 1 AND 20;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLbtw2.jpg" alt=""></p>
<h3 id="带有-IN-的-BETWEEN-操作符实例"><a href="#带有-IN-的-BETWEEN-操作符实例" class="headerlink" title="带有 IN 的 BETWEEN 操作符实例"></a>带有 IN 的 BETWEEN 操作符实例</h3><p>下面的 SQL 语句选取alexa介于 1 和 20 之间但 country 不为 USA 和 IND 的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE (alexa BETWEEN 1 AND 20)</span><br><span class="line">AND NOT country IN (&apos;USA&apos;, &apos;IND&apos;);</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLbtw3.jpg" alt=""></p>
<h3 id="带有文本值的-BETWEEN-操作符实例"><a href="#带有文本值的-BETWEEN-操作符实例" class="headerlink" title="带有文本值的 BETWEEN 操作符实例"></a>带有文本值的 BETWEEN 操作符实例</h3><p>下面的 SQL 语句选取 name 以介于 ‘A’ 和 ‘H’ 之间字母开始的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name BETWEEN &apos;A&apos; AND &apos;H&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLbtw4.jpg" alt=""></p>
<h3 id="带有文本值的-NOT-BETWEEN-操作符实例"><a href="#带有文本值的-NOT-BETWEEN-操作符实例" class="headerlink" title="带有文本值的 NOT BETWEEN 操作符实例"></a>带有文本值的 NOT BETWEEN 操作符实例</h3><p>下面的 SQL 语句选取 name 不介于 ‘A’ 和 ‘H’ 之间字母开始的所有网站：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Websites</span><br><span class="line">WHERE name NOT BETWEEN &apos;A&apos; AND &apos;H&apos;;</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLbtw5.jpg" alt=""></p>
<h3 id="带有日期值的-BETWEEN-操作符实例"><a href="#带有日期值的-BETWEEN-操作符实例" class="headerlink" title="带有日期值的 BETWEEN 操作符实例"></a>带有日期值的 BETWEEN 操作符实例</h3><p>下面的 SQL 语句选取 date 介于 ‘2016-05-10’ 和 ‘2016-05-14’ 之间的所有访问记录：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM access_log</span><br><span class="line">WHERE date BETWEEN &apos;2016-05-10&apos; AND &apos;2016-05-14&apos;;//日期格式对应表date格式</span><br></pre></td></tr></table></figure></p>
<p>执行输出结果：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLbtw6.jpg" alt=""></p>
<p><font color="#FF0000" size="3">请注意，在不同的数据库中，BETWEEN 操作符会产生不同的结果！</font></p>
<ul>
<li>在某些数据库中，BETWEEN 选取介于两个值之间但不包括两个测试值的字段。</li>
<li>在某些数据库中，BETWEEN 选取介于两个值之间且包括两个测试值的字段。</li>
<li>在某些数据库中，BETWEEN 选取介于两个值之间且包括第一个测试值但不包括最后一个测试值的字段。</li>
</ul>
<p><strong>因此，请检查您的数据库是如何处理 BETWEEN 操作符！</strong></p>
<h2 id="SQL-别名"><a href="#SQL-别名" class="headerlink" title="SQL 别名"></a>SQL 别名</h2><p>通过使用 SQL，可以为表名称或列名称指定别名。</p>
<p>通过使用 SQL，可以为表名称或列名称指定别名。</p>
<p>基本上，创建别名是为了让列名称的可读性更强。</p>
<h3 id="列的-SQL-别名语法"><a href="#列的-SQL-别名语法" class="headerlink" title="列的 SQL 别名语法"></a>列的 SQL 别名语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name AS alias_name</span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="表的-SQL-别名语法"><a href="#表的-SQL-别名语法" class="headerlink" title="表的 SQL 别名语法"></a>表的 SQL 别名语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name AS alias_name;</span><br></pre></td></tr></table></figure>
<h3 id="实例-7"><a href="#实例-7" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句指定了两个别名，一个是 name 列的别名，一个是 country 列的别名。<br><br><strong>提示：</strong>如果列名称包含空格，要求使用双引号或方括号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT name AS n, country AS c</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLalias1.jpg" alt=""></p>
<p>在下面的 SQL 语句中，我们把三个列（url、alexa 和 country）结合在一起，并创建一个名为 “site_info” 的别名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, CONCAT(url, &apos;, &apos;, alexa, &apos;, &apos;, country) AS site_info</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLalias2.jpg" alt=""></p>
<h3 id="表的别名实例"><a href="#表的别名实例" class="headerlink" title="表的别名实例"></a>表的别名实例</h3><p>下面的 SQL 语句选取 “菜鸟教程” 的所访问记录。我们使用 “Websites” 和 “access_log” 表，并分别为它们指定表别名 “w” 和 “a”（通过使用别名让 SQL 更简短）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT w.name, w.url, a.count, a.date </span><br><span class="line">FROM Websites AS w, access_log AS a </span><br><span class="line">WHERE a.site_id=w.id and w.name=&quot;菜鸟教程&quot;;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLalias3.jpg" alt=""></p>
<p>不带别名的相同的 SQL 语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, Websites.url, access_log.count, access_log.date </span><br><span class="line">FROM Websites, access_log </span><br><span class="line">WHERE Websites.id=access_log.site_id and Websites.name=&quot;菜鸟教程&quot;;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLalias4.jpg" alt=""></p>
<p>在下面的情况下，使用别名很有用：</p>
<ul>
<li>在查询中涉及超过一个表</li>
<li>在查询中使用了函数</li>
<li>列名称很长或者可读性差</li>
<li>需要把两个列或者多个列结合在一起</li>
</ul>
<h2 id="SQL-连接-JOIN"><a href="#SQL-连接-JOIN" class="headerlink" title="SQL 连接(JOIN)"></a>SQL 连接(JOIN)</h2><p>SQL join 用于把来自两个或多个表的行结合起来。</p>
<p>SQL JOIN 子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。</p>
<p>最常见的 JOIN 类型：<strong>SQL INNER JOIN（简单的 JOIN）</strong>。 SQL INNER JOIN 从多个表中返回满足 JOIN 条件的所有行。</p>
<h3 id="实例-8"><a href="#实例-8" class="headerlink" title="实例"></a>实例</h3><p>我们运行下面的 SQL 语句（包含 INNER JOIN）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.id, Websites.name, access_log.count, access_log.date</span><br><span class="line">FROM Websites</span><br><span class="line">INNER JOIN access_log</span><br><span class="line">ON Websites.id=access_log.site_id;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLjoin1.jpg" alt=""></p>
<h3 id="不同的-SQL-JOIN"><a href="#不同的-SQL-JOIN" class="headerlink" title="不同的 SQL JOIN"></a>不同的 SQL JOIN</h3><p>在我们继续讲解实例之前，我们先列出您可以使用的不同的 SQL JOIN 类型：</p>
<ul>
<li><strong>INNER JOIN</strong>:如果表中有至少一个匹配，则返回行</li>
<li><strong>LEFT JOIN</strong>:即使右表中没有匹配，也从左表返回所有的行</li>
<li><strong>RIGHT JOIN</strong>：即使左表中没有匹配，也从右表返回所有的行</li>
<li><strong>FULL JOIN</strong>：只要其中一个表中存在匹配，则返回行</li>
</ul>
<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><p>首先，连接的结果可以在逻辑上看作是由SELECT语句指定的列组成的新表。</p>
<p>左连接与右连接的左右指的是以两张表中的哪一张为基准，它们都是外连接。</p>
<p>外连接就好像是为非基准表添加了一行全为空值的万能行，用来与基准表中找不到匹配的行进行匹配。假设两个没有空值的表进行左连接，左表是基准表，左表的所有行都出现在结果中，右表则可能因为无法与基准表匹配而出现是空值的字段。</p>
<p>这部分主要涉及的是表连接的逻辑问题，教程主讲语法的话这部分确实需要自己再去搜资料<br><strong>reference:来源：《数据库系统原理教程》，王珊，陈红编著，P86</strong></p>
<p>得到的结果数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inner join &lt;= min(left join, right join)</span><br><span class="line">full join &gt;= max(left join, right join)</span><br><span class="line">当 inner join &lt; min(left join, right join) 时， full join &gt; max(left join, right join)</span><br></pre></td></tr></table></figure>
<h2 id="SQL-INNER-JOIN"><a href="#SQL-INNER-JOIN" class="headerlink" title="SQL INNER JOIN"></a>SQL INNER JOIN</h2><p>INNER JOIN 关键字在表中存在至少一个匹配时返回行。</p>
<h3 id="SQL-INNER-JOIN-语法"><a href="#SQL-INNER-JOIN-语法" class="headerlink" title="SQL INNER JOIN 语法"></a>SQL INNER JOIN 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1</span><br><span class="line">INNER JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure>
<p>或：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1</span><br><span class="line">JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure>
<p>注释：INNER JOIN 与 JOIN 是相同的。<br><img src="http://qiniu.hayato.tech/markdownimages/SQLinnerjoin.gif" alt=""></p>
<h3 id="实例-9"><a href="#实例-9" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句将返回所有网站的访问记录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, access_log.count, access_log.date</span><br><span class="line">FROM Websites</span><br><span class="line">INNER JOIN access_log</span><br><span class="line">ON Websites.id=access_log.site_id</span><br><span class="line">ORDER BY access_log.count;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLinner-join1.jpg" alt=""><br><strong>注释</strong>：INNER JOIN 关键字在表中存在至少一个匹配时返回行。如果 “Websites” 表中的行在 “access_log” 中没有匹配，则不会列出这些行。</p>
<h3 id="笔记-1"><a href="#笔记-1" class="headerlink" title="笔记"></a>笔记</h3><p>在使用 left jion 时，on 和 where 条件的区别如下：</p>
<ul>
<li><ol>
<li>on 条件是在生成临时表时使用的条件，它不管 on 中的条件是否为真，都会返回左边表中的记录。</li>
</ol>
</li>
<li><ol start="2">
<li>where 条件是在临时表生成好后，再对临时表进行过滤的条件。这时已经没有 left join 的含义（必须返回左边表的记录）了，条件不为真的就全部过滤掉。<br><br>详细内容可以查看：<a href="http://www.runoob.com/w3cnote/sql-join-the-different-of-on-and-where.html" target="_blank" rel="noopener">SQL JOIN 中 on 与 where 的区别</a></li>
</ol>
</li>
</ul>
<h2 id="SQL-LEFT-JOIN"><a href="#SQL-LEFT-JOIN" class="headerlink" title="SQL LEFT JOIN"></a>SQL LEFT JOIN</h2><p>LEFT JOIN 关键字从左表（table1）返回所有的行，即使右表（table2）中没有匹配。如果右表中没有匹配，则结果为 NULL。</p>
<h3 id="SQL-LEFT-JOIN-语法"><a href="#SQL-LEFT-JOIN-语法" class="headerlink" title="SQL LEFT JOIN 语法"></a>SQL LEFT JOIN 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1</span><br><span class="line">LEFT JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure>
<p>或<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1</span><br><span class="line">LEFT OUTER JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure></p>
<p><strong>注释</strong>：在某些数据库中，LEFT JOIN 称为 LEFT OUTER JOIN。<br><img src="http://qiniu.hayato.tech/markdownimages/SQLimg_leftjoin.gif" alt=""></p>
<h3 id="实例-10"><a href="#实例-10" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句将返回所有网站及他们的访问量（如果有的话）。</p>
<p>以下实例中我们把 Websites 作为左表，access_log 作为右表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, access_log.count, access_log.date</span><br><span class="line">FROM Websites</span><br><span class="line">LEFT JOIN access_log</span><br><span class="line">ON Websites.id=access_log.site_id</span><br><span class="line">ORDER BY access_log.count DESC;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLleft-join1.jpg" alt=""><br><strong>注释</strong>：LEFT JOIN 关键字从左表（Websites）返回所有的行，即使右表（access_log）中没有匹配。</p>
<h2 id="SQL-RIGHT-JOIN"><a href="#SQL-RIGHT-JOIN" class="headerlink" title="SQL RIGHT JOIN"></a>SQL RIGHT JOIN</h2><p>RIGHT JOIN 关键字从右表（table2）返回所有的行，即使左表（table1）中没有匹配。如果左表中没有匹配，则结果为 NULL。</p>
<h3 id="SQL-RIGHT-JOIN-语法"><a href="#SQL-RIGHT-JOIN-语法" class="headerlink" title="SQL RIGHT JOIN 语法"></a>SQL RIGHT JOIN 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1</span><br><span class="line">RIGHT JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1</span><br><span class="line">RIGHT OUTER JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure>
<p><strong>注释</strong>：在某些数据库中，RIGHT JOIN 称为 RIGHT OUTER JOIN。<br><img src="http://qiniu.hayato.tech/markdownimages/SQLimg_rightjoin.gif" alt=""></p>
<h3 id="实例-11"><a href="#实例-11" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句将返回网站的访问记录。</p>
<p>以下实例中我们把 access_log 作为左表，Websites 作为右表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, access_log.count, access_log.date</span><br><span class="line">FROM access_log</span><br><span class="line">RIGHT JOIN Websites</span><br><span class="line">ON access_log.site_id=Websites.id</span><br><span class="line">ORDER BY access_log.count DESC;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLright-join1.jpg" alt=""><br><strong>注释</strong>：RIGHT JOIN 关键字从右表（Websites）返回所有的行，即使左表（access_log）中没有匹配。</p>
<h3 id="FULL-OUTER-JOIN"><a href="#FULL-OUTER-JOIN" class="headerlink" title="FULL OUTER JOIN"></a>FULL OUTER JOIN</h3><p>FULL OUTER JOIN 关键字只要左表（table1）和右表（table2）其中一个表中存在匹配，则返回行.</p>
<p>FULL OUTER JOIN 关键字结合了 LEFT JOIN 和 RIGHT JOIN 的结果。</p>
<h3 id="SQL-FULL-OUTER-JOIN-语法"><a href="#SQL-FULL-OUTER-JOIN-语法" class="headerlink" title="SQL FULL OUTER JOIN 语法"></a>SQL FULL OUTER JOIN 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1</span><br><span class="line">FULL OUTER JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLimg_fulljoin.gif" alt=""></p>
<h3 id="实例-12"><a href="#实例-12" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句选取所有网站访问记录。</p>
<p>MySQL中不支持 FULL OUTER JOIN，你可以在 SQL Server 测试以下实例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, access_log.count, access_log.date</span><br><span class="line">FROM Websites</span><br><span class="line">FULL OUTER JOIN access_log</span><br><span class="line">ON Websites.id=access_log.site_id</span><br><span class="line">ORDER BY access_log.count DESC;</span><br></pre></td></tr></table></figure>
<p><strong>注释</strong>：FULL OUTER JOIN 关键字返回左表（Websites）和右表（access_log）中所有的行。如果 “Websites” 表中的行在 “access_log” 中没有匹配或者 “access_log” 表中的行在 “Websites” 表中没有匹配，也会列出这些行。</p>
<h2 id="UNION-操作符"><a href="#UNION-操作符" class="headerlink" title="UNION 操作符"></a>UNION 操作符</h2><p>SQL UNION 操作符合并两个或多个 SELECT 语句的结果。</p>
<p>UNION 操作符用于合并两个或多个 SELECT 语句的结果集。</p>
<p>请注意，UNION 内部的每个 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每个 SELECT 语句中的列的顺序必须相同。</p>
<h3 id="SQL-UNION-语法"><a href="#SQL-UNION-语法" class="headerlink" title="SQL UNION 语法"></a>SQL UNION 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s) FROM table1</span><br><span class="line">UNION</span><br><span class="line">SELECT column_name(s) FROM table2;</span><br></pre></td></tr></table></figure>
<p><strong>注释</strong>：默认地，UNION 操作符选取不同的值。如果允许重复的值，请使用 UNION ALL。</p>
<h3 id="SQL-UNION-ALL-语法"><a href="#SQL-UNION-ALL-语法" class="headerlink" title="SQL UNION ALL 语法"></a>SQL UNION ALL 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s) FROM table1</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT column_name(s) FROM table2;</span><br></pre></td></tr></table></figure>
<p><strong>注释</strong>：UNION 结果集中的列名总是等于 UNION 中第一个 SELECT 语句中的列名。</p>
<h3 id="SQL-UNION-实例"><a href="#SQL-UNION-实例" class="headerlink" title="SQL UNION 实例"></a>SQL UNION 实例</h3><p>下面的 SQL 语句从 “Websites” 和 “apps” 表中选取所有不同的country（只有不同的值）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT country FROM Websites</span><br><span class="line">UNION</span><br><span class="line">SELECT country FROM apps</span><br><span class="line">ORDER BY country;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLunion1.jpg" alt=""><br><strong>注释</strong>：UNION 不能用于列出两个表中所有的country。如果一些网站和APP来自同一个国家，每个国家只会列出一次。UNION 只会选取不同的值。请使用 UNION ALL 来选取重复的值！</p>
<h3 id="SQL-UNION-ALL-实例"><a href="#SQL-UNION-ALL-实例" class="headerlink" title="SQL UNION ALL 实例"></a>SQL UNION ALL 实例</h3><p>下面的 SQL 语句使用 UNION ALL 从 “Websites” 和 “apps” 表中选取所有的country（也有重复的值）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT country FROM Websites</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT country FROM apps</span><br><span class="line">ORDER BY country;</span><br></pre></td></tr></table></figure>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLunion2.jpg" alt=""></p>
<h3 id="带有-WHERE-的-SQL-UNION-ALL"><a href="#带有-WHERE-的-SQL-UNION-ALL" class="headerlink" title="带有 WHERE 的 SQL UNION ALL"></a>带有 WHERE 的 SQL UNION ALL</h3><p>下面的 SQL 语句使用 UNION ALL 从 “Websites” 和 “apps” 表中选取所有的中国(CN)的数据（也有重复的值）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT country, name FROM Websites</span><br><span class="line">WHERE country=&apos;CN&apos;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT country, app_name FROM apps</span><br><span class="line">WHERE country=&apos;CN&apos;</span><br><span class="line">ORDER BY country;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLunion3.jpg" alt=""></p>
<h3 id="笔记-2"><a href="#笔记-2" class="headerlink" title="笔记"></a>笔记</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">select country from websites union select country from apps;</span><br><span class="line"></span><br><span class="line">--连接两个表的查询结果集，重复的不显示</span><br><span class="line"></span><br><span class="line">select country from websites union all select country from apps order by country;</span><br><span class="line"></span><br><span class="line">--连接俩个个表的查询结果集，显示重复</span><br><span class="line"></span><br><span class="line">select country,name from websites where country = &apos;CN&apos; union all </span><br><span class="line"></span><br><span class="line">select country,app_name from apps where country=&apos;CN&apos; order by name; </span><br><span class="line"></span><br><span class="line">--通过where条件查询的结果，连接连个表的结果集，并根据名字排序。</span><br></pre></td></tr></table></figure>
<p>使用UNION命令时需要注意，只能在最后使用一个ORDER BY命令，是将两个查询结果合在一起之后，再进行排序！绝对不能写两个ORDER BY命令。</p>
<p>另外，在使用ORDER BY排序时，注意两个结果的别名保持一致，使用别名排序很方便。当然也可以使用列数。</p>
<h2 id="SELECT-INTO-语句"><a href="#SELECT-INTO-语句" class="headerlink" title="SELECT INTO 语句"></a>SELECT INTO 语句</h2><p>通过 SQL，您可以从一个表复制信息到另一个表。</p>
<p>SELECT INTO 语句从一个表复制数据，然后把数据插入到另一个新表中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MySQL 数据库不支持 SELECT ... INTO 语句，但支持 INSERT INTO ... SELECT 。</span><br><span class="line"></span><br><span class="line">当然你可以使用以下语句来拷贝表结构及数据：</span><br><span class="line"></span><br><span class="line">CREATE TABLE 新表 SELECT * FROM 旧表</span><br></pre></td></tr></table></figure>
<h3 id="SQL-SELECT-INTO-语法"><a href="#SQL-SELECT-INTO-语法" class="headerlink" title="SQL SELECT INTO 语法"></a>SQL SELECT INTO 语法</h3><p>我们可以复制所有的列插入到新表中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">INTO newtable [IN externaldb]</span><br><span class="line">FROM table1;</span><br></pre></td></tr></table></figure>
<p>或者只复制希望的列插入到新表中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">INTO newtable [IN externaldb]</span><br><span class="line">FROM table1;</span><br></pre></td></tr></table></figure>
<p><strong>提示</strong>：新表将会使用 SELECT 语句中定义的列名称和类型进行创建。您可以使用 AS 子句来应用新名称。</p>
<h3 id="实例-13"><a href="#实例-13" class="headerlink" title="实例"></a>实例</h3><p>创建 Websites 的备份复件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">INTO WebsitesBackup2016</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure>
<p>只复制一些列插入到新表中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, url</span><br><span class="line">INTO WebsitesBackup2016</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure>
<p>只复制中国的网站插入到新表中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">INTO WebsitesBackup2016</span><br><span class="line">FROM Websites</span><br><span class="line">WHERE country=&apos;CN&apos;;</span><br></pre></td></tr></table></figure>
<p>复制多个表中的数据插入到新表中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, access_log.count, access_log.date</span><br><span class="line">INTO WebsitesBackup2016</span><br><span class="line">FROM Websites</span><br><span class="line">LEFT JOIN access_log</span><br><span class="line">ON Websites.id=access_log.site_id;</span><br></pre></td></tr></table></figure>
<p><strong>提示</strong>：SELECT INTO 语句可用于通过另一种模式创建一个新的空表。只需要添加促使查询没有数据返回的 WHERE 子句即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">INTO newtable</span><br><span class="line">FROM table1</span><br><span class="line">WHERE 1=0;</span><br></pre></td></tr></table></figure>
<h2 id="INSERT-INTO-SELECT-语句"><a href="#INSERT-INTO-SELECT-语句" class="headerlink" title="INSERT INTO SELECT 语句"></a>INSERT INTO SELECT 语句</h2><p>通过 SQL，您可以从一个表复制信息到另一个表。</p>
<p>INSERT INTO SELECT 语句从一个表复制数据，然后把数据插入到一个已存在的表中。目标表中任何已存在的行都不会受影响。</p>
<h3 id="SQL-INSERT-INTO-SELECT-语法"><a href="#SQL-INSERT-INTO-SELECT-语法" class="headerlink" title="SQL INSERT INTO SELECT 语法"></a>SQL INSERT INTO SELECT 语法</h3><p>我们可以从一个表中复制所有的列插入到另一个已存在的表中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table2</span><br><span class="line">SELECT * FROM table1;</span><br></pre></td></tr></table></figure>
<p>或者我们可以只复制希望的列插入到另一个已存在的表中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table2</span><br><span class="line">(column_name(s))</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1;</span><br></pre></td></tr></table></figure>
<h3 id="实例-14"><a href="#实例-14" class="headerlink" title="实例"></a>实例</h3><p>复制 “apps” 中的数据插入到 “Websites” 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Websites (name, country)</span><br><span class="line">SELECT app_name, country FROM apps;</span><br></pre></td></tr></table></figure>
<p>只复 QQ 的 APP 到 “Websites” 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Websites (name, country)</span><br><span class="line">SELECT app_name, country FROM apps</span><br><span class="line">WHERE id=1;</span><br></pre></td></tr></table></figure>
<h2 id="CREATE-DATABASE-语句"><a href="#CREATE-DATABASE-语句" class="headerlink" title="CREATE DATABASE 语句"></a>CREATE DATABASE 语句</h2><p>CREATE DATABASE 语句用于创建数据库。</p>
<h3 id="SQL-CREATE-DATABASE-语法"><a href="#SQL-CREATE-DATABASE-语法" class="headerlink" title="SQL CREATE DATABASE 语法"></a>SQL CREATE DATABASE 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE dbname;</span><br></pre></td></tr></table></figure>
<h3 id="实例-15"><a href="#实例-15" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句创建一个名为 “my_db” 的数据库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE my_db;</span><br></pre></td></tr></table></figure>
<p>数据库表可以通过 CREATE TABLE 语句来添加。</p>
<h2 id="CREATE-TABLE-语句"><a href="#CREATE-TABLE-语句" class="headerlink" title="CREATE TABLE 语句"></a>CREATE TABLE 语句</h2><p>CREATE TABLE 语句用于创建数据库中的表。</p>
<p>表由行和列组成，每个表都必须有个表名。</p>
<h3 id="SQL-CREATE-TABLE-语法"><a href="#SQL-CREATE-TABLE-语法" class="headerlink" title="SQL CREATE TABLE 语法"></a>SQL CREATE TABLE 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE table_name</span><br><span class="line">(</span><br><span class="line">column_name1 data_type(size),</span><br><span class="line">column_name2 data_type(size),</span><br><span class="line">column_name3 data_type(size),</span><br><span class="line">....</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>column_name 参数规定表中列的名称。</li>
<li>data_type 参数规定列的数据类型（例如 varchar、integer、decimal、date 等等）。</li>
<li>size 参数规定表中列的最大长度。<br><strong>提示</strong>：如需了解 MS Access、MySQL 和 SQL Server 中可用的数据类型，请访问<a href="http://www.runoob.com/sql/sql-datatypes.html" target="_blank" rel="noopener">数据类型参考手册</a></li>
</ul>
<h3 id="实例-16"><a href="#实例-16" class="headerlink" title="实例"></a>实例</h3><p>现在我们想要创建一个名为 “Persons” 的表，包含五列：PersonID、LastName、FirstName、Address 和 City。</p>
<p>我们使用下面的 CREATE TABLE 语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">PersonID int,</span><br><span class="line">LastName varchar(255),</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>PersonID 列的数据类型是 int，包含整数。</p>
<p>LastName、FirstName、Address 和 City 列的数据类型是 varchar，包含字符，且这些字段的最大长度为 255 个字符。</p>
<p>空的 “Persons” 表如下所示：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLCteateTable.png" alt=""></p>
<p><strong>提示</strong>：可使用 INSERT INTO 语句向空表写入数据。</p>
<h2 id="约束（Constraints）"><a href="#约束（Constraints）" class="headerlink" title="约束（Constraints）"></a>约束（Constraints）</h2><p>SQL 约束用于规定表中的数据规则。</p>
<p>如果存在违反约束的数据行为，行为会被约束终止。</p>
<p>约束可以在创建表时规定（通过 CREATE TABLE 语句），或者在表创建之后规定（通过 ALTER TABLE 语句）。</p>
<h3 id="SQL-CREATE-TABLE-CONSTRAINT-语法"><a href="#SQL-CREATE-TABLE-CONSTRAINT-语法" class="headerlink" title="SQL CREATE TABLE + CONSTRAINT 语法"></a>SQL CREATE TABLE + CONSTRAINT 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE table_name</span><br><span class="line">(</span><br><span class="line">column_name1 data_type(size) constraint_name,</span><br><span class="line">column_name2 data_type(size) constraint_name,</span><br><span class="line">column_name3 data_type(size) constraint_name,</span><br><span class="line">....</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>在 SQL 中，我们有如下约束：</p>
<ul>
<li><strong>NOT NULL</strong> - 指示某列不能存储 NULL 值。</li>
<li><strong>UNIQUE</strong> - 保证某列的每行必须有唯一的值。</li>
<li><strong>PRIMARY KEY</strong> - NOT NULL 和 UNIQUE 的结合。确保某列（或两个列多个列的结合）有唯一标识，有助于更容易更快速地找到表中的一个特定的记录。</li>
<li><strong>FOREIGN KEY</strong> - 保证一个表中的数据匹配另一个表中的值的参照完整性。</li>
<li><strong>CHECK</strong> - 保证列中的值符合指定的条件。</li>
<li><strong>DEFAULT</strong> - 规定没有给列赋值时的默认值。</li>
</ul>
<h2 id="NOT-NULL-约束"><a href="#NOT-NULL-约束" class="headerlink" title="NOT NULL 约束"></a>NOT NULL 约束</h2><p>在默认的情况下，表的列接受 NULL 值。</p>
<h3 id="SQL-NOT-NULL-约束"><a href="#SQL-NOT-NULL-约束" class="headerlink" title="SQL NOT NULL 约束"></a>SQL NOT NULL 约束</h3><p>NOT NULL 约束强制列不接受 NULL 值。</p>
<p>NOT NULL 约束强制字段始终包含值。这意味着，如果不向字段添加值，就无法插入新记录或者更新记录。</p>
<p>下面的 SQL 强制 “P_Id” 列和 “LastName” 列不接受 NULL 值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="UNIQUE-约束"><a href="#UNIQUE-约束" class="headerlink" title="UNIQUE 约束"></a>UNIQUE 约束</h2><p>UNIQUE 约束唯一标识数据库表中的每条记录。</p>
<p>UNIQUE 和 PRIMARY KEY 约束均为列或列集合提供了唯一性的保证。</p>
<p>PRIMARY KEY 约束拥有自动定义的 UNIQUE 约束。</p>
<p>请注意，每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束。</p>
<h3 id="CREATE-TABLE-时的-SQL-UNIQUE-约束"><a href="#CREATE-TABLE-时的-SQL-UNIQUE-约束" class="headerlink" title="CREATE TABLE 时的 SQL UNIQUE 约束"></a>CREATE TABLE 时的 SQL UNIQUE 约束</h3><p>下面的 SQL 在 “Persons” 表创建时在 “P_Id” 列上创建 UNIQUE 约束：<br><strong>MySQL：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">UNIQUE (P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p><strong>SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL UNIQUE,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>如需命名 UNIQUE 约束，并定义多个列的 UNIQUE 约束，请使用下面的 SQL 语法：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="ALTER-TABLE-时的-SQL-UNIQUE-约束"><a href="#ALTER-TABLE-时的-SQL-UNIQUE-约束" class="headerlink" title="ALTER TABLE 时的 SQL UNIQUE 约束"></a>ALTER TABLE 时的 SQL UNIQUE 约束</h3><p>当表已被创建时，如需在 “P_Id” 列创建 UNIQUE 约束，请使用下面的 SQL：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD UNIQUE (P_Id)</span><br></pre></td></tr></table></figure></p>
<p>如需命名 UNIQUE 约束，并定义多个列的 UNIQUE 约束，请使用下面的 SQL 语法：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName)</span><br></pre></td></tr></table></figure></p>
<h3 id="撤销-UNIQUE-约束"><a href="#撤销-UNIQUE-约束" class="headerlink" title="撤销 UNIQUE 约束"></a>撤销 UNIQUE 约束</h3><p>如需撤销 UNIQUE 约束，请使用下面的 SQL：<br><strong>MySQL：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP INDEX uc_PersonID</span><br></pre></td></tr></table></figure></p>
<p><strong> SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT uc_PersonID</span><br></pre></td></tr></table></figure></p>
<h3 id="笔记-3"><a href="#笔记-3" class="headerlink" title="笔记"></a>笔记</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">create table tb2(</span><br><span class="line">    tb2_id int unique,</span><br><span class="line">    tb2_name varchar(20),</span><br><span class="line">    tb2_age int,</span><br><span class="line">    unique(tb2_name)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">select * from tb2;</span><br><span class="line">insert into tb2(tb2_id,tb2_name,tb2_age) values (1,&apos;张三&apos;,20);</span><br><span class="line"></span><br><span class="line">--违反唯一约束</span><br><span class="line">insert into tb2 values(2,&apos;张三&apos;,25);</span><br><span class="line"></span><br><span class="line">--建表时，创建约束，有约束名</span><br><span class="line">create table tb3(</span><br><span class="line">    tb3_id int ,</span><br><span class="line">    tb3_name varchar(20),</span><br><span class="line">    tb3_age int,</span><br><span class="line">    constraint no_id unique (tb3_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into tb3 values (1,&apos;张三&apos;,20);</span><br><span class="line">insert into tb3(tb3_id,tb3_age) values(2,24);</span><br><span class="line">select * from tb3;</span><br><span class="line"></span><br><span class="line">--已经有了tb3_id为1的行记录，再次插入，违反唯一约束</span><br><span class="line">insert into tb3(tb3_id,tb3_name,tb3_age) values(1,&apos;李四&apos;,25);</span><br><span class="line"></span><br><span class="line">--给tb3表添加主键约束，主键名为：pk_id</span><br><span class="line">alter table tb3 add constraint pk_id primary key (tb3_id);</span><br><span class="line"></span><br><span class="line">--给tb3_name添加唯一约束</span><br><span class="line">alter table tb3 add constraint un_name unique (tb3_name);</span><br><span class="line"></span><br><span class="line">--已存在姓名为张三的记录，违反唯一约束</span><br><span class="line">insert into tb3 values (3,&apos;张三&apos;,26);</span><br><span class="line"></span><br><span class="line">--mysql 删除约束的语句，使用index，oracle SqlServer等使用constraint</span><br><span class="line">alter table tb3 drop index un_name;</span><br><span class="line"></span><br><span class="line">--删除约束后，允许存在多个tb3_name为张三的记录</span><br><span class="line">insert into tb3 values (3,&apos;张三&apos;,26);</span><br></pre></td></tr></table></figure>
<h2 id="PRIMARY-KEY-约束"><a href="#PRIMARY-KEY-约束" class="headerlink" title="PRIMARY KEY 约束"></a>PRIMARY KEY 约束</h2><p>PRIMARY KEY 约束唯一标识数据库表中的每条记录。</p>
<p>主键必须包含唯一的值。</p>
<p>主键列不能包含 NULL 值。</p>
<p>每个表都应该有一个主键，并且每个表只能有一个主键。</p>
<h3 id="CREATE-TABLE-时的-SQL-PRIMARY-KEY-约束"><a href="#CREATE-TABLE-时的-SQL-PRIMARY-KEY-约束" class="headerlink" title="CREATE TABLE 时的 SQL PRIMARY KEY 约束"></a>CREATE TABLE 时的 SQL PRIMARY KEY 约束</h3><p>下面的 SQL 在 “Persons” 表创建时在 “P_Id” 列上创建 PRIMARY KEY 约束：</p>
<p><strong>MySQL</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">PRIMARY KEY (P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p><strong>SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL PRIMARY KEY,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),MySQL</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>如需命名 PRIMARY KEY 约束，并定义多个列的 PRIMARY KEY 约束，请使用下面的 SQL 语法：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p><strong>注释</strong>：在上面的实例中，只有一个主键 PRIMARY KEY（pk_PersonID）。然而，pk_PersonID 的值是由两个列（P_Id 和 LastName）组成的。</p>
<h3 id="ALTER-TABLE-时的-SQL-PRIMARY-KEY-约束"><a href="#ALTER-TABLE-时的-SQL-PRIMARY-KEY-约束" class="headerlink" title="ALTER TABLE 时的 SQL PRIMARY KEY 约束"></a>ALTER TABLE 时的 SQL PRIMARY KEY 约束</h3><p>当表已被创建时，如需在 “P_Id” 列创建 PRIMARY KEY 约束，请使用下面的 SQL：</p>
<p><strong>MySQL / SQL Server / Oracle / MS Access</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD PRIMARY KEY (P_Id)</span><br></pre></td></tr></table></figure></p>
<p>如需命名 PRIMARY KEY 约束，并定义多个列的 PRIMARY KEY 约束，请使用下面的 SQL 语法：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName)</span><br></pre></td></tr></table></figure></p>
<p><strong>注释</strong>：如果您使用 ALTER TABLE 语句添加主键，必须把主键列声明为不包含 NULL 值（在表首次创建时）。</p>
<h3 id="撤销-PRIMARY-KEY-约束"><a href="#撤销-PRIMARY-KEY-约束" class="headerlink" title="撤销 PRIMARY KEY 约束"></a>撤销 PRIMARY KEY 约束</h3><p>如需撤销 PRIMARY KEY 约束，请使用下面的 SQL：<br><strong>MySQL</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP PRIMARY KEY</span><br></pre></td></tr></table></figure></p>
<p><strong>SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT pk_PersonID</span><br></pre></td></tr></table></figure></p>
<h3 id="笔记-4"><a href="#笔记-4" class="headerlink" title="笔记"></a>笔记</h3><p>撤销PRIMARY KEY约束时，不论约束条件为一列还是多列，对于MySQL，由于PRIMARY KEY唯一性，MYSQL处理办法简单,撤销都是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP PRIMARY KEY</span><br></pre></td></tr></table></figure></p>
<p>但对于 SQL Server / Oracle / MS Access， 一个列<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT P_Id</span><br></pre></td></tr></table></figure></p>
<p>若起约束名，也可如下多个列<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT pk_PersonID</span><br></pre></td></tr></table></figure></p>
<h2 id="FOREIGN-KEY-约束"><a href="#FOREIGN-KEY-约束" class="headerlink" title="FOREIGN KEY 约束"></a>FOREIGN KEY 约束</h2><h3 id="SQL-FOREIGN-KEY-约束"><a href="#SQL-FOREIGN-KEY-约束" class="headerlink" title="SQL FOREIGN KEY 约束"></a>SQL FOREIGN KEY 约束</h3><p>一个表中的 FOREIGN KEY 指向另一个表中的 PRIMARY KEY。</p>
<p>让我们通过一个实例来解释外键。请看下面两个表：</p>
<p>“Persons” 表：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLTablePersons.png" alt=""></p>
<p>“Orders” 表：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLTableOrders.png" alt=""></p>
<p>请注意，”Orders” 表中的 “P_Id” 列指向 “Persons” 表中的 “P_Id” 列。</p>
<p>“Persons” 表中的 “P_Id” 列是 “Persons” 表中的 PRIMARY KEY。</p>
<p>“Orders” 表中的 “P_Id” 列是 “Orders” 表中的 FOREIGN KEY。</p>
<p>FOREIGN KEY 约束用于预防破坏表之间连接的行为。</p>
<p>FOREIGN KEY 约束也能防止非法数据插入外键列，因为它必须是它指向的那个表中的值之一。</p>
<h3 id="CREATE-TABLE-时的-SQL-FOREIGN-KEY-约束"><a href="#CREATE-TABLE-时的-SQL-FOREIGN-KEY-约束" class="headerlink" title="CREATE TABLE 时的 SQL FOREIGN KEY 约束"></a>CREATE TABLE 时的 SQL FOREIGN KEY 约束</h3><p>下面的 SQL 在 “Orders” 表创建时在 “P_Id” 列上创建 FOREIGN KEY 约束：</p>
<p><strong>MySQL</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">P_Id int,</span><br><span class="line">PRIMARY KEY (O_Id),</span><br><span class="line">FOREIGN KEY (P_Id) REFERENCES Persons(P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><strong>SQL Server / Oracle / MS Access：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL PRIMARY KEY,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">P_Id int FOREIGN KEY REFERENCES Persons(P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>如需命名 FOREIGN KEY 约束，并定义多个列的 FOREIGN KEY 约束，请使用下面的 SQL 语法：</p>
<p><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">P_Id int,</span><br><span class="line">PRIMARY KEY (O_Id),</span><br><span class="line">CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id)</span><br><span class="line">REFERENCES Persons(P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="ALTER-TABLE-时的-SQL-FOREIGN-KEY-约束"><a href="#ALTER-TABLE-时的-SQL-FOREIGN-KEY-约束" class="headerlink" title="ALTER TABLE 时的 SQL FOREIGN KEY 约束"></a>ALTER TABLE 时的 SQL FOREIGN KEY 约束</h3><p>当 “Orders” 表已被创建时，如需在 “P_Id” 列创建 FOREIGN KEY 约束，请使用下面的 SQL：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">ADD FOREIGN KEY (P_Id)</span><br><span class="line">REFERENCES Persons(P_Id)</span><br></pre></td></tr></table></figure></p>
<p>如需命名 FOREIGN KEY 约束，并定义多个列的 FOREIGN KEY 约束，请使用下面的 SQL 语法：</p>
<p><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">ADD CONSTRAINT fk_PerOrders</span><br><span class="line">FOREIGN KEY (P_Id)</span><br><span class="line">REFERENCES Persons(P_Id)</span><br></pre></td></tr></table></figure></p>
<h3 id="撤销-FOREIGN-KEY-约束"><a href="#撤销-FOREIGN-KEY-约束" class="headerlink" title="撤销 FOREIGN KEY 约束"></a>撤销 FOREIGN KEY 约束</h3><p>如需撤销 FOREIGN KEY 约束，请使用下面的 SQL：<br><strong>MySQL：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">DROP FOREIGN KEY fk_PerOrders</span><br></pre></td></tr></table></figure>
<p><strong>SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">DROP CONSTRAINT fk_PerOrders</span><br></pre></td></tr></table></figure></p>
<h2 id="CHECK-约束"><a href="#CHECK-约束" class="headerlink" title="CHECK 约束"></a>CHECK 约束</h2><p>CHECK 约束用于限制列中的值的范围。</p>
<p>如果对单个列定义 CHECK 约束，那么该列只允许特定的值。</p>
<p>如果对一个表定义 CHECK 约束，那么此约束会基于行中其他列的值在特定的列中对值进行限制。</p>
<h3 id="CREATE-TABLE-时的-SQL-CHECK-约束"><a href="#CREATE-TABLE-时的-SQL-CHECK-约束" class="headerlink" title="CREATE TABLE 时的 SQL CHECK 约束"></a>CREATE TABLE 时的 SQL CHECK 约束</h3><p>下面的 SQL 在 “Persons” 表创建时在 “P_Id” 列上创建 CHECK 约束。CHECK 约束规定 “P_Id” 列必须只包含大于 0 的整数。<br><strong>MySQL：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CHECK (P_Id&gt;0)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p><strong>SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL CHECK (P_Id&gt;0),</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>如需命名 CHECK 约束，并定义多个列的 CHECK 约束，请使用下面的 SQL 语法：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT chk_Person CHECK (P_Id&gt;0 AND City=&apos;Sandnes&apos;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="ALTER-TABLE-时的-SQL-CHECK-约束"><a href="#ALTER-TABLE-时的-SQL-CHECK-约束" class="headerlink" title="ALTER TABLE 时的 SQL CHECK 约束"></a>ALTER TABLE 时的 SQL CHECK 约束</h3><p>当表已被创建时，如需在 “P_Id” 列创建 CHECK 约束，请使用下面的 SQL：<br><strong>MySQL / SQL Server / Oracle / MS Access:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CHECK (P_Id&gt;0)</span><br></pre></td></tr></table></figure></p>
<p>如需命名 CHECK 约束，并定义多个列的 CHECK 约束，请使用下面的 SQL 语法：<br><strong>MySQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CONSTRAINT chk_Person CHECK (P_Id&gt;0 AND City=&apos;Sandnes&apos;)</span><br></pre></td></tr></table></figure></p>
<h3 id="撤销-CHECK-约束"><a href="#撤销-CHECK-约束" class="headerlink" title="撤销 CHECK 约束"></a>撤销 CHECK 约束</h3><p>如需撤销 CHECK 约束，请使用下面的 SQL：<br><strong>SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT chk_Person</span><br></pre></td></tr></table></figure></p>
<p><strong>MySQL：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CHECK chk_Person</span><br></pre></td></tr></table></figure></p>
<h2 id="DEFAULT-约束"><a href="#DEFAULT-约束" class="headerlink" title="DEFAULT 约束"></a>DEFAULT 约束</h2><p>DEFAULT 约束用于向列中插入默认值。</p>
<p>如果没有规定其他的值，那么会将默认值添加到所有的新记录。</p>
<h3 id="CREATE-TABLE-时的-SQL-DEFAULT-约束"><a href="#CREATE-TABLE-时的-SQL-DEFAULT-约束" class="headerlink" title="CREATE TABLE 时的 SQL DEFAULT 约束"></a>CREATE TABLE 时的 SQL DEFAULT 约束</h3><p>下面的 SQL 在 “Persons” 表创建时在 “City” 列上创建 DEFAULT 约束：<br><strong>My SQL / SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255) DEFAULT &apos;Sandnes&apos;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>通过使用类似 GETDATE() 这样的函数，DEFAULT 约束也可以用于插入系统值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">P_Id int,</span><br><span class="line">OrderDate date DEFAULT GETDATE()</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="ALTER-TABLE-时的-SQL-DEFAULT-约束"><a href="#ALTER-TABLE-时的-SQL-DEFAULT-约束" class="headerlink" title="ALTER TABLE 时的 SQL DEFAULT 约束"></a>ALTER TABLE 时的 SQL DEFAULT 约束</h3><p>当表已被创建时，如需在 “City” 列创建 DEFAULT 约束，请使用下面的 SQL：<br><strong>MySQL：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER City SET DEFAULT &apos;SANDNES&apos;</span><br></pre></td></tr></table></figure></p>
<p><strong>SQL Server / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER COLUMN City SET DEFAULT &apos;SANDNES&apos;</span><br></pre></td></tr></table></figure></p>
<p><strong>Oracle：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">MODIFY City DEFAULT &apos;SANDNES&apos;</span><br></pre></td></tr></table></figure></p>
<h3 id="撤销-DEFAULT-约束"><a href="#撤销-DEFAULT-约束" class="headerlink" title="撤销 DEFAULT 约束"></a>撤销 DEFAULT 约束</h3><p>如需撤销 DEFAULT 约束，请使用下面的 SQL：<br><strong>MySQL：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER City DROP DEFAULT</span><br></pre></td></tr></table></figure></p>
<p><strong>SQL Server / Oracle / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER COLUMN City DROP DEFAULT</span><br></pre></td></tr></table></figure></p>
<h2 id="CREATE-INDEX-语句"><a href="#CREATE-INDEX-语句" class="headerlink" title="CREATE INDEX 语句"></a>CREATE INDEX 语句</h2><p>CREATE INDEX 语句用于在表中创建索引。</p>
<p>在不读取整个表的情况下，索引使数据库应用程序可以更快地查找数据。</p>
<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>您可以在表中创建索引，以便更加快速高效地查询数据。</p>
<p>用户无法看到索引，它们只能被用来加速搜索/查询。</p>
<p><strong>注释</strong>：更新一个包含索引的表需要比更新一个没有索引的表花费更多的时间，这是由于索引本身也需要更新。因此，理想的做法是仅仅在常常被搜索的列（以及表）上面创建索引。</p>
<h3 id="SQL-CREATE-INDEX-语法"><a href="#SQL-CREATE-INDEX-语法" class="headerlink" title="SQL CREATE INDEX 语法"></a>SQL CREATE INDEX 语法</h3><p>在表上创建一个简单的索引。允许使用重复的值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE INDEX index_name</span><br><span class="line">ON table_name (column_name)</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-CREATE-UNIQUE-INDEX-语法"><a href="#SQL-CREATE-UNIQUE-INDEX-语法" class="headerlink" title="SQL CREATE UNIQUE INDEX 语法"></a>SQL CREATE UNIQUE INDEX 语法</h3><p>在表上创建一个唯一的索引。不允许使用重复的值：唯一的索引意味着两个行不能拥有相同的索引值。Creates a unique index on a table. Duplicate values are not allowed:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE UNIQUE INDEX index_name</span><br><span class="line">ON table_name (column_name)</span><br></pre></td></tr></table></figure></p>
<p><strong>注释</strong>：用于创建索引的语法在不同的数据库中不一样。因此，检查您的数据库中创建索引的语法。</p>
<h3 id="CREATE-INDEX-实例"><a href="#CREATE-INDEX-实例" class="headerlink" title="CREATE INDEX 实例"></a>CREATE INDEX 实例</h3><p>下面的 SQL 语句在 “Persons” 表的 “LastName” 列上创建一个名为 “PIndex” 的索引：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE INDEX PIndex</span><br><span class="line">ON Persons (LastName)</span><br></pre></td></tr></table></figure></p>
<p>如果您希望索引不止一个列，您可以在括号中列出这些列的名称，用逗号隔开：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE INDEX PIndex</span><br><span class="line">ON Persons (LastName, FirstName)</span><br></pre></td></tr></table></figure></p>
<h2 id="撤销索引、撤销表以及撤销数据库"><a href="#撤销索引、撤销表以及撤销数据库" class="headerlink" title="撤销索引、撤销表以及撤销数据库"></a>撤销索引、撤销表以及撤销数据库</h2><p>通过使用 DROP 语句，可以轻松地删除索引、表和数据库。</p>
<h3 id="DROP-INDEX-语句"><a href="#DROP-INDEX-语句" class="headerlink" title="DROP INDEX 语句"></a>DROP INDEX 语句</h3><p>DROP INDEX 语句用于删除表中的索引。</p>
<h4 id="用于-MS-Access-的-DROP-INDEX-语法："><a href="#用于-MS-Access-的-DROP-INDEX-语法：" class="headerlink" title="用于 MS Access 的 DROP INDEX 语法："></a>用于 MS Access 的 DROP INDEX 语法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP INDEX index_name ON table_name</span><br></pre></td></tr></table></figure>
<h4 id="用于-MS-SQL-Server-的-DROP-INDEX-语法："><a href="#用于-MS-SQL-Server-的-DROP-INDEX-语法：" class="headerlink" title="用于 MS SQL Server 的 DROP INDEX 语法："></a>用于 MS SQL Server 的 DROP INDEX 语法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP INDEX table_name.index_name</span><br></pre></td></tr></table></figure>
<h4 id="用于-DB2-Oracle-的-DROP-INDEX-语法："><a href="#用于-DB2-Oracle-的-DROP-INDEX-语法：" class="headerlink" title="用于 DB2/Oracle 的 DROP INDEX 语法："></a>用于 DB2/Oracle 的 DROP INDEX 语法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP INDEX index_name</span><br></pre></td></tr></table></figure>
<h4 id="用于-MySQL-的-DROP-INDEX-语法："><a href="#用于-MySQL-的-DROP-INDEX-语法：" class="headerlink" title="用于 MySQL 的 DROP INDEX 语法："></a>用于 MySQL 的 DROP INDEX 语法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name DROP INDEX index_name</span><br></pre></td></tr></table></figure>
<h3 id="DROP-TABLE-语句"><a href="#DROP-TABLE-语句" class="headerlink" title="DROP TABLE 语句"></a>DROP TABLE 语句</h3><p>DROP TABLE 语句用于删除表。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE table_name</span><br></pre></td></tr></table></figure></p>
<h3 id="DROP-DATABASE-语句"><a href="#DROP-DATABASE-语句" class="headerlink" title="DROP DATABASE 语句"></a>DROP DATABASE 语句</h3><p>DROP DATABASE 语句用于删除数据库。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE database_name</span><br></pre></td></tr></table></figure></p>
<h3 id="TRUNCATE-TABLE-语句"><a href="#TRUNCATE-TABLE-语句" class="headerlink" title="TRUNCATE TABLE 语句"></a>TRUNCATE TABLE 语句</h3><p>如果我们仅仅需要删除表内的数据，但并不删除表本身，那么我们该如何做呢？</p>
<p>请使用 TRUNCATE TABLE 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TRUNCATE TABLE table_name</span><br></pre></td></tr></table></figure></p>
<h2 id="ALTER-TABLE-语句"><a href="#ALTER-TABLE-语句" class="headerlink" title="ALTER TABLE 语句"></a>ALTER TABLE 语句</h2><p>ALTER TABLE 语句用于在已有的表中添加、删除或修改列。</p>
<h3 id="SQL-ALTER-TABLE-语法"><a href="#SQL-ALTER-TABLE-语法" class="headerlink" title="SQL ALTER TABLE 语法"></a>SQL ALTER TABLE 语法</h3><p>如需在表中添加列，请使用下面的语法:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">ADD column_name datatype</span><br></pre></td></tr></table></figure></p>
<p>如需删除表中的列，请使用下面的语法（请注意，某些数据库系统不允许这种在数据库表中删除列的方式）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">DROP COLUMN column_name</span><br></pre></td></tr></table></figure></p>
<p>要改变表中列的数据类型，请使用下面的语法：</p>
<p><strong>SQL Server / MS Access：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">ALTER COLUMN column_name datatype</span><br></pre></td></tr></table></figure></p>
<p><strong>My SQL / Oracle：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">MODIFY COLUMN column_name datatype</span><br></pre></td></tr></table></figure></p>
<p>Oracle 10G 之后版本:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">MODIFY column_name datatype;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-ALTER-TABLE-实例"><a href="#SQL-ALTER-TABLE-实例" class="headerlink" title="SQL ALTER TABLE 实例"></a>SQL ALTER TABLE 实例</h3><p>请看 “Persons” 表：</p>
<table>
<thead>
<tr>
<th style="text-align:left">P_Id</th>
<th style="text-align:left">LastName</th>
<th style="text-align:left">FirstName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Hansen</td>
<td style="text-align:left">Ola</td>
<td style="text-align:left">Timoteivn 10</td>
<td style="text-align:left">Sandnes</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Svendson</td>
<td style="text-align:left">Tove</td>
<td style="text-align:left">Borgvn 23</td>
<td style="text-align:left">Sandnes</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Pettersen</td>
<td style="text-align:left">Kari</td>
<td style="text-align:left">Storgt 20</td>
<td style="text-align:left">Stavanger</td>
</tr>
</tbody>
</table>
<p>现在，我们想在 “Persons” 表中添加一个名为 “DateOfBirth” 的列。</p>
<p>我们使用下面的 SQL 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD DateOfBirth date</span><br></pre></td></tr></table></figure></p>
<p>请注意，新列 “DateOfBirth” 的类型是 date，可以存放日期。数据类型规定列中可以存放的数据的类型。<br>现在，”Persons” 表将如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">P_Id</th>
<th style="text-align:left">LastName</th>
<th style="text-align:left">FirstName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
<th style="text-align:left">DateOfBirth</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Hansen</td>
<td style="text-align:left">Ola</td>
<td style="text-align:left">Timoteivn 10</td>
<td style="text-align:left">Sandnes</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Svendson</td>
<td style="text-align:left">Tove</td>
<td style="text-align:left">Borgvn 23</td>
<td style="text-align:left">Sandnes</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Pettersen</td>
<td style="text-align:left">Kari</td>
<td style="text-align:left">Storgt 20</td>
<td style="text-align:left">Stavanger</td>
</tr>
</tbody>
</table>
<h3 id="改变数据类型实例"><a href="#改变数据类型实例" class="headerlink" title="改变数据类型实例"></a>改变数据类型实例</h3><p>现在，我们想要改变 “Persons” 表中 “DateOfBirth” 列的数据类型。</p>
<p>我们使用下面的 SQL 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER COLUMN DateOfBirth year</span><br></pre></td></tr></table></figure></p>
<p>请注意，现在 “DateOfBirth” 列的类型是 year，可以存放 2 位或 4 位格式的年份。</p>
<h3 id="DROP-COLUMN-实例"><a href="#DROP-COLUMN-实例" class="headerlink" title="DROP COLUMN 实例"></a>DROP COLUMN 实例</h3><p>接下来，我们想要删除 “Person” 表中的 “DateOfBirth” 列。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP COLUMN DateOfBirth</span><br></pre></td></tr></table></figure></p>
<p>现在，”Persons” 表将如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">P_Id</th>
<th style="text-align:left">LastName</th>
<th style="text-align:left">FirstName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Hansen</td>
<td style="text-align:left">Ola</td>
<td style="text-align:left">Timoteivn 10</td>
<td style="text-align:left">Sandnes</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Svendson</td>
<td style="text-align:left">Tove</td>
<td style="text-align:left">Borgvn 23</td>
<td style="text-align:left">Sandnes</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Pettersen</td>
<td style="text-align:left">Kari</td>
<td style="text-align:left">Storgt 20</td>
<td style="text-align:left">Stavanger</td>
</tr>
</tbody>
</table>
<h2 id="AUTO-INCREMENT-字段"><a href="#AUTO-INCREMENT-字段" class="headerlink" title="AUTO INCREMENT 字段"></a>AUTO INCREMENT 字段</h2><p>Auto-increment 会在新记录插入表中时生成一个唯一的数字。</p>
<p>我们通常希望在每次插入新记录时，自动地创建主键字段的值。</p>
<p>我们可以在表中创建一个 auto-increment 字段。</p>
<h3 id="用于-MySQL-的语法"><a href="#用于-MySQL-的语法" class="headerlink" title="用于 MySQL 的语法"></a>用于 MySQL 的语法</h3><p>下面的 SQL 语句把 “Persons” 表中的 “ID” 列定义为 auto-increment 主键字段：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">ID int NOT NULL AUTO_INCREMENT,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">PRIMARY KEY (ID)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>MySQL 使用 AUTO_INCREMENT 关键字来执行 auto-increment 任务。</p>
<p>默认地，AUTO_INCREMENT 的开始值是 1，每条新记录递增 1。</p>
<p>要让 AUTO_INCREMENT 序列以其他的值起始，请使用下面的 SQL 语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons AUTO_INCREMENT=100</span><br></pre></td></tr></table></figure></p>
<p>要在 “Persons” 表中插入新记录，我们不必为 “ID” 列规定值（会自动添加一个唯一的值）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (FirstName,LastName)</span><br><span class="line">VALUES (&apos;Lars&apos;,&apos;Monsen&apos;)</span><br></pre></td></tr></table></figure></p>
<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”ID” 列会被赋予一个唯一的值。”FirstName” 列会被设置为 “Lars”，”LastName” 列会被设置为 “Monsen”。</p>
<h3 id="用于-SQL-Server-的语法"><a href="#用于-SQL-Server-的语法" class="headerlink" title="用于 SQL Server 的语法"></a>用于 SQL Server 的语法</h3><p>下面的 SQL 语句把 “Persons” 表中的 “ID” 列定义为 auto-increment 主键字段：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">ID int IDENTITY(1,1) PRIMARY KEY,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>MS SQL Server 使用 IDENTITY 关键字来执行 auto-increment 任务。</p>
<p>在上面的实例中，IDENTITY 的开始值是 1，每条新记录递增 1。</p>
<p><strong>提示</strong>：要规定 “ID” 列以 10 起始且递增 5，请把 identity 改为 IDENTITY(10,5)。</p>
<p>要在 “Persons” 表中插入新记录，我们不必为 “ID” 列规定值（会自动添加一个唯一的值）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (FirstName,LastName)</span><br><span class="line">VALUES (&apos;Lars&apos;,&apos;Monsen&apos;)</span><br></pre></td></tr></table></figure></p>
<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”ID” 列会被赋予一个唯一的值。”FirstName” 列会被设置为 “Lars”，”LastName” 列会被设置为 “Monsen”。</p>
<h3 id="用于-Access-的语法"><a href="#用于-Access-的语法" class="headerlink" title="用于 Access 的语法"></a>用于 Access 的语法</h3><p>下面的 SQL 语句把 “Persons” 表中的 “ID” 列定义为 auto-increment 主键字段：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">ID Integer PRIMARY KEY AUTOINCREMENT,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>MS Access 使用 AUTOINCREMENT 关键字来执行 auto-increment 任务。</p>
<p>默认地，AUTOINCREMENT 的开始值是 1，每条新记录递增 1。</p>
<p><strong>提示</strong>：要规定 “ID” 列以 10 起始且递增 5，请把 autoincrement 改为 AUTOINCREMENT(10,5)。</p>
<p>要在 “Persons” 表中插入新记录，我们不必为 “ID” 列规定值（会自动添加一个唯一的值）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (FirstName,LastName)</span><br><span class="line">VALUES (&apos;Lars&apos;,&apos;Monsen&apos;)</span><br></pre></td></tr></table></figure></p>
<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”ID” 列会被赋予一个唯一的值。”FirstName” 列会被设置为 “Lars”，”LastName” 列会被设置为 “Monsen”。</p>
<h3 id="语法-for-Oracle"><a href="#语法-for-Oracle" class="headerlink" title="语法 for Oracle"></a>语法 for Oracle</h3><p>在 Oracle 中，代码稍微复杂一点。</p>
<p>您必须通过 sequence 对象（该对象生成数字序列）创建 auto-increment 字段。</p>
<p>请使用下面的 CREATE SEQUENCE 语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE SEQUENCE seq_person</span><br><span class="line">MINVALUE 1</span><br><span class="line">START WITH 1</span><br><span class="line">INCREMENT BY 1</span><br><span class="line">CACHE 10</span><br></pre></td></tr></table></figure></p>
<p>上面的代码创建一个名为 seq_person 的 sequence 对象，它以 1 起始且以 1 递增。该对象缓存 10 个值以提高性能。cache 选项规定了为了提高访问速度要存储多少个序列值。</p>
<p>要在 “Persons” 表中插入新记录，我们必须使用 nextval 函数（该函数从 seq_person 序列中取回下一个值）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (ID,FirstName,LastName)</span><br><span class="line">VALUES (seq_person.nextval,&apos;Lars&apos;,&apos;Monsen&apos;)</span><br></pre></td></tr></table></figure></p>
<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”ID” 列会被赋值为来自 seq_person 序列的下一个数字。”FirstName”列 会被设置为 “Lars”，”LastName” 列会被设置为 “Monsen”。</p>
<h3 id="笔记-5"><a href="#笔记-5" class="headerlink" title="笔记"></a>笔记</h3><p>给已经存在的colume添加自增语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name CHANGE column_name column_name data_type(size) constraint_name AUTO_INCREMENT;</span><br></pre></td></tr></table></figure></p>
<p>比如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE student CHANGE id id INT( 11 ) NOT NULL AUTO_INCREMENT;</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-视图（Views）"><a href="#SQL-视图（Views）" class="headerlink" title="SQL 视图（Views）"></a>SQL 视图（Views）</h2><p>视图是可视化的表。<br><br>本章讲解如何创建、更新和删除视图。<br></p>
<h3 id="SQL-CREATE-VIEW-语句"><a href="#SQL-CREATE-VIEW-语句" class="headerlink" title="SQL CREATE VIEW 语句"></a>SQL CREATE VIEW 语句</h3><p>在 SQL 中，视图是基于 SQL 语句的结果集的可视化的表。</p>
<p>视图包含行和列，就像一个真实的表。视图中的字段就是来自一个或多个数据库中的真实的表中的字段。</p>
<p>您可以向视图添加 SQL 函数、WHERE 以及 JOIN 语句，也可以呈现数据，就像这些数据来自于某个单一的表一样。</p>
<h3 id="SQL-CREATE-VIEW-语法"><a href="#SQL-CREATE-VIEW-语法" class="headerlink" title="SQL CREATE VIEW 语法"></a>SQL CREATE VIEW 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW view_name AS</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition</span><br></pre></td></tr></table></figure>
<p><strong>注释</strong>：视图总是显示最新的数据！每当用户查询视图时，数据库引擎通过使用视图的 SQL 语句重建数据。</p>
<h3 id="SQL-CREATE-VIEW-实例"><a href="#SQL-CREATE-VIEW-实例" class="headerlink" title="SQL CREATE VIEW 实例"></a>SQL CREATE VIEW 实例</h3><p>样本数据库 Northwind 拥有一些被默认安装的视图。<br><br>视图 “Current Product List” 会从 “Products” 表列出所有正在使用的产品（未停产的产品）。这个视图使用下面的 SQL 创建：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Current Product List] AS</span><br><span class="line">SELECT ProductID,ProductName</span><br><span class="line">FROM Products</span><br><span class="line">WHERE Discontinued=No</span><br></pre></td></tr></table></figure></p>
<p>我们可以像这样查询上面这个视图：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Current Product List]</span><br></pre></td></tr></table></figure></p>
<p>Northwind 样本数据库的另一个视图会选取 “Products” 表中所有单位价格高于平均单位价格的产品：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Products Above Average Price] AS</span><br><span class="line">SELECT ProductName,UnitPrice</span><br><span class="line">FROM Products</span><br><span class="line">WHERE UnitPrice&gt;(SELECT AVG(UnitPrice) FROM Products)</span><br></pre></td></tr></table></figure></p>
<p>我们可以像这样查询上面这个视图：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Products Above Average Price]</span><br></pre></td></tr></table></figure></p>
<p>Northwind 样本数据库的另一个视图会计算在 1997 年每个种类的销售总数。请注意，这个视图会从另一个名为 “Product Sales for 1997” 的视图那里选取数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Category Sales For 1997] AS</span><br><span class="line">SELECT DISTINCT CategoryName,Sum(ProductSales) AS CategorySales</span><br><span class="line">FROM [Product Sales for 1997]</span><br><span class="line">GROUP BY CategoryName</span><br></pre></td></tr></table></figure></p>
<p>我们可以像这样查询上面这个视图：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Category Sales For 1997]</span><br></pre></td></tr></table></figure></p>
<p>我们也可以向查询添加条件。现在，我们仅仅需要查看 “Beverages” 类的销售总数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Category Sales For 1997]</span><br><span class="line">WHERE CategoryName=&apos;Beverages&apos;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-更新视图"><a href="#SQL-更新视图" class="headerlink" title="SQL 更新视图"></a>SQL 更新视图</h3><p>您可以使用下面的语法来更新视图：</p>
<h4 id="SQL-CREATE-OR-REPLACE-VIEW-语法"><a href="#SQL-CREATE-OR-REPLACE-VIEW-语法" class="headerlink" title="SQL CREATE OR REPLACE VIEW 语法"></a>SQL CREATE OR REPLACE VIEW 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE OR REPLACE VIEW view_name AS</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition</span><br></pre></td></tr></table></figure>
<p>现在，我们希望向 “Current Product List” 视图添加 “Category” 列。我们将通过下列 SQL 更新视图：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Current Product List] AS</span><br><span class="line">SELECT ProductID,ProductName,Category</span><br><span class="line">FROM Products</span><br><span class="line">WHERE Discontinued=No</span><br></pre></td></tr></table></figure></p>
<h4 id="SQL-Server"><a href="#SQL-Server" class="headerlink" title="SQL Server"></a>SQL Server</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ALTER VIEW [ schema_name . ] view_name [ ( column [ ,...n ] ) ] </span><br><span class="line">[ WITH &lt;view_attribute&gt; [ ,...n ] ] </span><br><span class="line">AS select_statement </span><br><span class="line">[ WITH CHECK OPTION ] [ ; ]</span><br><span class="line"></span><br><span class="line">&lt;view_attribute&gt; ::= </span><br><span class="line">&#123; </span><br><span class="line">    [ ENCRYPTION ]</span><br><span class="line">    [ SCHEMABINDING ]</span><br><span class="line">    [ VIEW_METADATA ]     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>schema_name</strong>: 视图所属架构的名称。</li>
<li><strong>view_name</strong>: 要更改的视图。</li>
<li><strong>column</strong>: 将成为指定视图的一部分的一个或多个列的名称（以逗号分隔）。</li>
</ul>
<h3 id="SQL-撤销视图"><a href="#SQL-撤销视图" class="headerlink" title="SQL 撤销视图"></a>SQL 撤销视图</h3><p>您可以通过 DROP VIEW 命令来删除视图。</p>
<h4 id="SQL-DROP-VIEW-语法"><a href="#SQL-DROP-VIEW-语法" class="headerlink" title="SQL DROP VIEW 语法"></a>SQL DROP VIEW 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW view_name</span><br></pre></td></tr></table></figure>
<h2 id="Date-函数"><a href="#Date-函数" class="headerlink" title="Date 函数"></a>Date 函数</h2><h3 id="SQL-日期（Dates）"><a href="#SQL-日期（Dates）" class="headerlink" title="SQL 日期（Dates）"></a>SQL 日期（Dates）</h3><p>当我们处理日期时，最难的任务恐怕是确保所插入的日期的格式，与数据库中日期列的格式相匹配。<br><br>只要您的数据包含的只是日期部分，运行查询就不会出问题。但是，如果涉及时间部分，情况就有点复杂了。<br><br>在讨论日期查询的复杂性之前，我们先来看看最重要的内建日期处理函数。<br></p>
<h3 id="MySQL-Date-函数"><a href="#MySQL-Date-函数" class="headerlink" title="MySQL Date 函数"></a>MySQL Date 函数</h3><p>下面的表格列出了 MySQL 中最重要的内建日期函数：</p>
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">NOW()</td>
<td style="text-align:left">返回当前的日期和时间</td>
</tr>
<tr>
<td style="text-align:left">CURDATE()</td>
<td style="text-align:left">返回当前的日期</td>
</tr>
<tr>
<td style="text-align:left">CURTIME()</td>
<td style="text-align:left">返回当前的时间</td>
</tr>
<tr>
<td style="text-align:left">DATE()</td>
<td style="text-align:left">提取日期或日期/时间表达式的日期部分</td>
</tr>
<tr>
<td style="text-align:left">EXTRACT()</td>
<td style="text-align:left">返回日期/时间的单独部分</td>
</tr>
<tr>
<td style="text-align:left">DATE_ADD()</td>
<td style="text-align:left">向日期添加指定的时间间隔</td>
</tr>
<tr>
<td style="text-align:left">DATE_SUB()</td>
<td style="text-align:left">从日期减去指定的时间间隔</td>
</tr>
<tr>
<td style="text-align:left">DATEDIFF()</td>
<td style="text-align:left">返回两个日期之间的天数</td>
</tr>
<tr>
<td style="text-align:left">DATE_FORMAT()</td>
<td style="text-align:left">用不同的格式显示日期/时间</td>
</tr>
</tbody>
</table>
<h3 id="SQL-Server-Date-函数"><a href="#SQL-Server-Date-函数" class="headerlink" title="SQL Server Date 函数"></a>SQL Server Date 函数</h3><p>下面的表格列出了 SQL Server 中最重要的内建日期函数：</p>
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">GETDATE()</td>
<td style="text-align:left">返回当前的日期和时间</td>
</tr>
<tr>
<td style="text-align:left">DATEPART()</td>
<td style="text-align:left">返回日期/时间的单独部分</td>
</tr>
<tr>
<td style="text-align:left">DATEADD()</td>
<td style="text-align:left">在日期中添加或减去指定的时间间隔</td>
</tr>
<tr>
<td style="text-align:left">DATEDIFF()</td>
<td style="text-align:left">返回两个日期之间的时间</td>
</tr>
<tr>
<td style="text-align:left">CONVERT()</td>
<td style="text-align:left">用不同的格式显示日期/时间</td>
</tr>
</tbody>
</table>
<h3 id="SQL-Date-数据类型"><a href="#SQL-Date-数据类型" class="headerlink" title="SQL Date 数据类型"></a>SQL Date 数据类型</h3><p><strong>MySQL</strong> 使用下列数据类型在数据库中存储日期或日期/时间值：</p>
<ul>
<li>DATE - 格式：YYYY-MM-DD</li>
<li>DATETIME - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>TIMESTAMP - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>YEAR - 格式：YYYY 或 YY<h3 id="SQL-Server-使用下列数据类型在数据库中存储日期或日期-时间值："><a href="#SQL-Server-使用下列数据类型在数据库中存储日期或日期-时间值：" class="headerlink" title="SQL Server 使用下列数据类型在数据库中存储日期或日期/时间值："></a>SQL Server 使用下列数据类型在数据库中存储日期或日期/时间值：</h3></li>
<li>DATE - 格式：YYYY-MM-DD</li>
<li>DATETIME - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>SMALLDATETIME - 格式：YYYY-MM-DD HH:MM:SS</li>
<li>TIMESTAMP - 格式：唯一的数字<br>##SQL 日期处理<br>如果不涉及时间部分，那么我们可以轻松地比较两个日期！<br><br>假设我们有如下的 “Orders” 表：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">OrderId</th>
<th style="text-align:left">ProductName</th>
<th style="text-align:left">OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Geitost</td>
<td style="text-align:left">2008-11-11</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Camembert Pierrot</td>
<td style="text-align:left">2008-11-09</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Mozzarella di Giovanni</td>
<td style="text-align:left">2008-11-11</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">Mascarpone Fabioli</td>
<td style="text-align:left">2008-10-29</td>
</tr>
</tbody>
</table>
<p>现在，我们希望从上表中选取 OrderDate 为 “2008-11-11” 的记录。</p>
<p>我们使用下面的 SELECT 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Orders WHERE OrderDate=&apos;2008-11-11&apos;</span><br></pre></td></tr></table></figure></p>
<p>结果集如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">OrderId</th>
<th style="text-align:left">ProductName</th>
<th style="text-align:left">OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Geitost</td>
<td style="text-align:left">2008-11-11</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Mozzarella di Giovanni</td>
<td style="text-align:left">2008-11-11</td>
</tr>
</tbody>
</table>
<p>现在，假设 “Orders” 表如下所示（请注意 “OrderDate” 列中的时间部分）：</p>
<table>
<thead>
<tr>
<th style="text-align:left">OrderId</th>
<th style="text-align:left">ProductName</th>
<th style="text-align:left">OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Geitost</td>
<td style="text-align:left">2008-11-11 13:23:44</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Camembert Pierrot</td>
<td style="text-align:left">2008-11-09 15:45:21</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Mozzarella di Giovanni</td>
<td style="text-align:left">2008-11-11 11:12:01</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">Mascarpone Fabioli</td>
<td style="text-align:left">2008-10-29 14:56:59</td>
</tr>
</tbody>
</table>
<p>如果我们使用和上面一样的 SELECT 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Orders WHERE OrderDate=&apos;2008-11-11&apos;</span><br><span class="line">或</span><br><span class="line">SELECT * FROM Orders WHERE OrderDate=&apos;2008-11-11 00：00：00&apos;</span><br></pre></td></tr></table></figure></p>
<p>那么我们将得不到结果！因为表中没有”2008-11-11 00:00:00”日期。如果没有时间部分，默认时间为 00:00:00。</p>
<p><strong>提示</strong>：如果您希望使查询简单且更易维护，那么请不要在日期中使用时间部分！</p>
<h2 id="NULL-值"><a href="#NULL-值" class="headerlink" title="NULL 值"></a>NULL 值</h2><p>NULL 值代表遗漏的未知数据。</p>
<p>默认地，表的列可以存放 NULL 值。</p>
<p>本章讲解 IS NULL 和 IS NOT NULL 操作符。</p>
<h3 id="SQL-NULL-值"><a href="#SQL-NULL-值" class="headerlink" title="SQL NULL 值"></a>SQL NULL 值</h3><p>如果表中的某个列是可选的，那么我们可以在不向该列添加值的情况下插入新记录或更新已有的记录。这意味着该字段将以 NULL 值保存。</p>
<p>NULL 值的处理方式与其他值不同。</p>
<p>NULL 用作未知的或不适用的值的占位符。</p>
<p><font color="#FF0000" size="3">注释:</font>无法比较 NULL 和 0；它们是不等价的。</p>
<h3 id="SQL-的-NULL-值处理"><a href="#SQL-的-NULL-值处理" class="headerlink" title="SQL 的 NULL 值处理"></a>SQL 的 NULL 值处理</h3><p>请看下面的 “Persons” 表：</p>
<table>
<thead>
<tr>
<th style="text-align:left">P_Id</th>
<th style="text-align:left">LastName</th>
<th style="text-align:left">FirstName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Hansen</td>
<td style="text-align:left">Ola</td>
<td style="text-align:left"></td>
<td style="text-align:left">Sandnes</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Svendson</td>
<td style="text-align:left">Tove</td>
<td style="text-align:left">Borgvn 23</td>
<td style="text-align:left">Sandnes</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Pettersen</td>
<td style="text-align:left">Kari</td>
<td style="text-align:left"></td>
<td style="text-align:left">Stavanger</td>
</tr>
</tbody>
</table>
<p>假如 “Persons” 表中的 “Address” 列是可选的。这意味着如果在 “Address” 列插入一条不带值的记录，”Address” 列会使用 NULL 值保存。</p>
<p>那么我们如何测试 NULL 值呢？</p>
<p>无法使用比较运算符来测试 NULL 值，比如 =、&lt; 或 &lt;&gt;。</p>
<p>我们必须使用 IS NULL 和 IS NOT NULL 操作符。</p>
<h3 id="SQL-IS-NULL"><a href="#SQL-IS-NULL" class="headerlink" title="SQL IS NULL"></a>SQL IS NULL</h3><p>我们如何仅仅选取在 “Address” 列中带有 NULL 值的记录呢？</p>
<p>我们必须使用 IS NULL 操作符：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT LastName,FirstName,Address FROM Persons</span><br><span class="line">WHERE Address IS NULL</span><br></pre></td></tr></table></figure></p>
<p>结果集如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">LastName</th>
<th style="text-align:left">FirstName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Hansen</td>
<td style="text-align:left">Ola</td>
<td style="text-align:left"></td>
<td style="text-align:left">Sandnes</td>
</tr>
<tr>
<td style="text-align:left">Pettersen</td>
<td style="text-align:left">Kari</td>
<td style="text-align:left"></td>
<td style="text-align:left">Stavanger</td>
</tr>
</tbody>
</table>
<p><strong>提示</strong>：请始终使用 IS NULL 来查找 NULL 值。</p>
<h3 id="SQL-IS-NOT-NULL"><a href="#SQL-IS-NOT-NULL" class="headerlink" title="SQL IS NOT NULL"></a>SQL IS NOT NULL</h3><p>我们如何仅仅选取在 “Address” 列中不带有 NULL 值的记录呢？</p>
<p>我们必须使用 IS NOT NULL 操作符：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT LastName,FirstName,Address FROM Persons</span><br><span class="line">WHERE Address IS NOT NULL</span><br></pre></td></tr></table></figure></p>
<p>结果集如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">LastName</th>
<th style="text-align:left">FirstName</th>
<th style="text-align:left">Address</th>
<th style="text-align:left">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Svendson</td>
<td style="text-align:left">Tove</td>
<td style="text-align:left">Borgvn 23</td>
<td style="text-align:left">Sandnes</td>
</tr>
</tbody>
</table>
<h2 id="NULL-函数"><a href="#NULL-函数" class="headerlink" title="NULL 函数"></a>NULL 函数</h2><h3 id="SQL-ISNULL-、NVL-、IFNULL-和-COALESCE-函数"><a href="#SQL-ISNULL-、NVL-、IFNULL-和-COALESCE-函数" class="headerlink" title="SQL ISNULL()、NVL()、IFNULL() 和 COALESCE() 函数"></a>SQL ISNULL()、NVL()、IFNULL() 和 COALESCE() 函数</h3><p>请看下面的 “Products” 表：</p>
<table>
<thead>
<tr>
<th style="text-align:left">P_Id</th>
<th style="text-align:left">ProductName</th>
<th style="text-align:left">UnitPrice</th>
<th style="text-align:left">UnitsInStock</th>
<th style="text-align:left">UnitsOnOrder</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Jarlsberg</td>
<td style="text-align:left">10.45</td>
<td style="text-align:left">16</td>
<td style="text-align:left">15</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Mascarpone</td>
<td style="text-align:left">32.56</td>
<td style="text-align:left">23</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Gorgonzola</td>
<td style="text-align:left">15.67</td>
<td style="text-align:left">9</td>
<td style="text-align:left">20</td>
</tr>
</tbody>
</table>
<p>假如 “UnitsOnOrder” 是可选的，而且可以包含 NULL 值。</p>
<p>我们使用下面的 SELECT 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ProductName,UnitPrice*(UnitsInStock+UnitsOnOrder)</span><br><span class="line">FROM Products</span><br></pre></td></tr></table></figure></p>
<p>在上面的实例中，如果有 “UnitsOnOrder” 值是 NULL，那么结果是 NULL。</p>
<p>微软的 ISNULL() 函数用于规定如何处理 NULL 值。</p>
<p>NVL()、IFNULL() 和 COALESCE() 函数也可以达到相同的结果。</p>
<p>在这里，我们希望 NULL 值为 0。</p>
<p>下面，如果 “UnitsOnOrder” 是 NULL，则不会影响计算，因为如果值是 NULL 则 ISNULL() 返回 0：</p>
<p><strong>SQL Server / MS Access</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ProductName,UnitPrice*(UnitsInStock+ISNULL(UnitsOnOrder,0))</span><br><span class="line">FROM Products</span><br></pre></td></tr></table></figure>
<p><strong>Oracle</strong><br>Oracle 没有 ISNULL() 函数。不过，我们可以使用 NVL() 函数达到相同的结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ProductName,UnitPrice*(UnitsInStock+NVL(UnitsOnOrder,0))</span><br><span class="line">FROM Products</span><br></pre></td></tr></table></figure>
<p><strong>MySQL</strong><br>MySQL 也拥有类似 ISNULL() 的函数。不过它的工作方式与微软的 ISNULL() 函数有点不同。</p>
<p>在 MySQL 中，我们可以使用 IFNULL() 函数，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ProductName,UnitPrice*(UnitsInStock+IFNULL(UnitsOnOrder,0))</span><br><span class="line">FROM Products</span><br></pre></td></tr></table></figure>
<p>或者我们可以使用 COALESCE() 函数，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ProductName,UnitPrice*(UnitsInStock+COALESCE(UnitsOnOrder,0))</span><br><span class="line">FROM Products</span><br></pre></td></tr></table></figure>
<h3 id="笔记-6"><a href="#笔记-6" class="headerlink" title="笔记"></a>笔记</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--如果alexa列为null值，则赋予0，否则，取原值</span><br><span class="line">select id,name,url,ifnull(alexa,0)from websites;</span><br><span class="line">select id,name,url,COALESCE(alexa,0) from websites;</span><br></pre></td></tr></table></figure>
<h2 id="通用数据类型"><a href="#通用数据类型" class="headerlink" title="通用数据类型"></a>通用数据类型</h2><p>数据类型定义列中存放的值的种类。</p>
<h3 id="SQL-通用数据类型"><a href="#SQL-通用数据类型" class="headerlink" title="SQL 通用数据类型"></a>SQL 通用数据类型</h3><p>数据库表中的每个列都要求有名称和数据类型。Each column in a database table is required to have a name and a data type.</p>
<p>SQL 开发人员必须在创建 SQL 表时决定表中的每个列将要存储的数据的类型。数据类型是一个标签，是便于 SQL 了解每个列期望存储什么类型的数据的指南，它也标识了 SQL 如何与存储的数据进行交互。</p>
<p>下面的表格列出了 SQL 中通用的数据类型：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CHARACTER(n)</td>
<td style="text-align:left">字符/字符串。固定长度 n。</td>
</tr>
<tr>
<td style="text-align:left">VARCHAR(n) <br>或<br>CHARACTER VARYING(n)</td>
<td style="text-align:left">字符/字符串。可变长度。最大长度 n。</td>
</tr>
<tr>
<td style="text-align:left">BINARY(n)</td>
<td style="text-align:left">二进制串。固定长度 n。</td>
</tr>
<tr>
<td style="text-align:left">BOOLEAN</td>
<td style="text-align:left">存储 TRUE 或 FALSE 值</td>
</tr>
<tr>
<td style="text-align:left">VARBINARY(n)<br>或<br>BINARY VARYING(n)</td>
<td style="text-align:left">二进制串。可变长度。最大长度 n。</td>
</tr>
<tr>
<td style="text-align:left">INTEGER(p)</td>
<td style="text-align:left">整数值（没有小数点）。精度 p。</td>
</tr>
<tr>
<td style="text-align:left">SMALLINT</td>
<td style="text-align:left">整数值（没有小数点）。精度 5。</td>
</tr>
<tr>
<td style="text-align:left">INTEGER</td>
<td style="text-align:left">整数值（没有小数点）。精度 10。</td>
</tr>
<tr>
<td style="text-align:left">BIGINT</td>
<td style="text-align:left">整数值（没有小数点）。精度 19。</td>
</tr>
<tr>
<td style="text-align:left">DECIMAL(p,s)</td>
<td style="text-align:left">精确数值，精度 p，小数点后位数 s。例如：decimal(5,2) 是一个小数点前有 3 位数小数点后有 2 位数的数字。</td>
</tr>
<tr>
<td style="text-align:left">NUMERIC(p,s)</td>
<td style="text-align:left">精确数值，精度 p，小数点后位数 s。（与 DECIMAL 相同）</td>
</tr>
<tr>
<td style="text-align:left">FLOAT(p)</td>
<td style="text-align:left">近似数值，尾数精度 p。一个采用以 10 为基数的指数计数法的浮点数。该类型的 size 参数由一个指定最小精度的单一数字组成。</td>
</tr>
<tr>
<td style="text-align:left">REAL</td>
<td style="text-align:left">近似数值，尾数精度 7。</td>
</tr>
<tr>
<td style="text-align:left">FLOAT</td>
<td style="text-align:left">近似数值，尾数精度 16。</td>
</tr>
<tr>
<td style="text-align:left">DOUBLE PRECISION</td>
<td style="text-align:left">近似数值，尾数精度 16。</td>
</tr>
<tr>
<td style="text-align:left">DATE</td>
<td style="text-align:left">存储年、月、日的值。</td>
</tr>
<tr>
<td style="text-align:left">TIME</td>
<td style="text-align:left">存储小时、分、秒的值。</td>
</tr>
<tr>
<td style="text-align:left">TIMESTAMP</td>
<td style="text-align:left">存储年、月、日、小时、分、秒的值。</td>
</tr>
<tr>
<td style="text-align:left">INTERVAL</td>
<td style="text-align:left">由一些整数字段组成，代表一段时间，取决于区间的类型。</td>
</tr>
<tr>
<td style="text-align:left">ARRAY</td>
<td style="text-align:left">元素的固定长度的有序集合</td>
</tr>
<tr>
<td style="text-align:left">MULTISET</td>
<td style="text-align:left">元素的可变长度的无序集合</td>
</tr>
<tr>
<td style="text-align:left">XML</td>
<td style="text-align:left">存储 XML 数据</td>
</tr>
</tbody>
</table>
<h3 id="SQL-数据类型快速参考手册"><a href="#SQL-数据类型快速参考手册" class="headerlink" title="SQL 数据类型快速参考手册"></a>SQL 数据类型快速参考手册</h3><p>然而，不同的数据库对数据类型定义提供不同的选择。</p>
<p>下面的表格显示了各种不同的数据库平台上一些数据类型的通用名称：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">Access</th>
<th style="text-align:left">SQLServer</th>
<th style="text-align:left">Oracle</th>
<th style="text-align:left">MySQL</th>
<th style="text-align:left">PostgreSQL</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">boolean</td>
<td style="text-align:left">Yes/No</td>
<td style="text-align:left">Bit</td>
<td style="text-align:left">Byte</td>
<td style="text-align:left">N/A</td>
<td style="text-align:left">Boolean</td>
</tr>
<tr>
<td style="text-align:left">integer</td>
<td style="text-align:left">Number (integer)</td>
<td style="text-align:left">Int</td>
<td style="text-align:left">Number</td>
<td style="text-align:left">Int<br>Integer</td>
<td style="text-align:left">Int<br>Integer</td>
</tr>
<tr>
<td style="text-align:left">float</td>
<td style="text-align:left">Number (single)</td>
<td style="text-align:left">Float<br>Real</td>
<td style="text-align:left">Number</td>
<td style="text-align:left">Float</td>
<td style="text-align:left">Numeric</td>
</tr>
<tr>
<td style="text-align:left">currency</td>
<td style="text-align:left">Currency</td>
<td style="text-align:left">Money</td>
<td style="text-align:left">N/A</td>
<td style="text-align:left">N/A</td>
<td style="text-align:left">Money</td>
</tr>
<tr>
<td style="text-align:left">string (fixed)</td>
<td style="text-align:left">N/A</td>
<td style="text-align:left">Char</td>
<td style="text-align:left">Char</td>
<td style="text-align:left">Char</td>
<td style="text-align:left">Char</td>
</tr>
<tr>
<td style="text-align:left">string (variable)</td>
<td style="text-align:left">Text (&lt;256)<br>Memo (65k+)</td>
<td style="text-align:left">Varchar</td>
<td style="text-align:left">Varchar<br>Varchar2</td>
<td style="text-align:left">Varchar</td>
<td style="text-align:left">Varchar</td>
</tr>
<tr>
<td style="text-align:left">binary object</td>
<td style="text-align:left">OLE Object Memo</td>
<td style="text-align:left">Binary (fixed up to 8K)<br>Varbinary (&lt;8K)<br>Image (&lt;2GB)</td>
<td style="text-align:left">Long<br>Raw</td>
<td style="text-align:left">Blob<br>Text</td>
<td style="text-align:left">Binary<br>Varbinary</td>
</tr>
</tbody>
</table>
<p><strong>注释</strong>：在不同的数据库中，同一种数据类型可能有不同的名称。即使名称相同，尺寸和其他细节也可能不同！ 请总是检查文档！</p>
<h2 id="用于各种数据库的数据类型"><a href="#用于各种数据库的数据类型" class="headerlink" title="用于各种数据库的数据类型"></a>用于各种数据库的数据类型</h2><p>Microsoft Access、MySQL 和 SQL Server 所使用的数据类型和范围。</p>
<h3 id="Microsoft-Access-数据类型"><a href="#Microsoft-Access-数据类型" class="headerlink" title="Microsoft Access 数据类型"></a>Microsoft Access 数据类型</h3><table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">存储</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Text</td>
<td style="text-align:left">用于文本或文本与数字的组合。最多 255 个字符。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Memo</td>
<td style="text-align:left">Memo 用于更大数量的文本。最多存储 65,536 个字符。注释：无法对 memo 字段进行排序。不过它们是可搜索的。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Byte</td>
<td style="text-align:left">允许 0 到 255 的数字。</td>
<td style="text-align:left">1 字节</td>
</tr>
<tr>
<td style="text-align:left">Integer</td>
<td style="text-align:left">允许介于 -32,768 与 32,767 之间的全部数字。</td>
<td style="text-align:left">2 字节</td>
</tr>
<tr>
<td style="text-align:left">Long</td>
<td style="text-align:left">允许介于 -2,147,483,648 与 2,147,483,647 之间的全部数字。</td>
<td style="text-align:left">4 字节</td>
</tr>
<tr>
<td style="text-align:left">Single</td>
<td style="text-align:left">单精度浮点。处理大多数小数。</td>
<td style="text-align:left">4 字节</td>
</tr>
<tr>
<td style="text-align:left">Double</td>
<td style="text-align:left">双精度浮点。处理大多数小数。</td>
<td style="text-align:left">8 字节</td>
</tr>
<tr>
<td style="text-align:left">Currency</td>
<td style="text-align:left">用于货币。支持 15 位的元，外加 4 位小数。提示：您可以选择使用哪个国家的货币。</td>
<td style="text-align:left">8 字节</td>
</tr>
<tr>
<td style="text-align:left">AutoNumber</td>
<td style="text-align:left">AutoNumber 字段自动为每条记录分配数字，通常从 1 开始。</td>
<td style="text-align:left">4 字节</td>
</tr>
<tr>
<td style="text-align:left">Date/Time</td>
<td style="text-align:left">用于日期和时间</td>
<td style="text-align:left">8 字节</td>
</tr>
<tr>
<td style="text-align:left">Yes/No</td>
<td style="text-align:left">逻辑字段，可以显示为 Yes/No、True/False 或 On/Off。在代码中，使用常量 True 和 False （等价于 1 和 0）。注释：Yes/No 字段中不允许 Null 值</td>
<td style="text-align:left">1 比特</td>
</tr>
<tr>
<td style="text-align:left">Ole Object</td>
<td style="text-align:left">可以存储图片、音频、视频或其他 BLOBs（Binary Large OBjects）。</td>
<td style="text-align:left">最多 1GB</td>
</tr>
<tr>
<td style="text-align:left">Hyperlink</td>
<td style="text-align:left">包含指向其他文件的链接，包括网页。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Lookup Wizard</td>
<td style="text-align:left">允许您创建一个可从下拉列表中进行选择的选项列表。</td>
<td style="text-align:left">4 字节</td>
</tr>
</tbody>
</table>
<h3 id="MySQL-数据类型"><a href="#MySQL-数据类型" class="headerlink" title="MySQL 数据类型"></a>MySQL 数据类型</h3><p>在 MySQL 中，有三种主要的类型：Text（文本）、Number（数字）和 Date/Time（日期/时间）类型。<br><strong>Text 类型：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CHAR(size)</td>
<td style="text-align:left">保存固定长度的字符串（可包含字母、数字以及特殊字符）。在括号中指定字符串的长度。最多 255 个字符。</td>
</tr>
<tr>
<td style="text-align:left">VARCHAR(size)</td>
<td style="text-align:left">保存可变长度的字符串（可包含字母、数字以及特殊字符）。在括号中指定字符串的最大长度。最多 255 个字符。注释：如果值的长度大于 255，则被转换为 TEXT 类型。</td>
</tr>
<tr>
<td style="text-align:left">TINYTEXT</td>
<td style="text-align:left">存放最大长度为 255 个字符的字符串。</td>
</tr>
<tr>
<td style="text-align:left">TEXT</td>
<td style="text-align:left">存放最大长度为 65,535 个字符的字符串。</td>
</tr>
<tr>
<td style="text-align:left">BLOB</td>
<td style="text-align:left">用于 BLOBs（Binary Large OBjects）。存放最多 65,535 字节的数据。</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMTEXT</td>
<td style="text-align:left">存放最大长度为 16,777,215 个字符的字符串。</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMBLOB</td>
<td style="text-align:left">用于 BLOBs（Binary Large OBjects）。存放最多 16,777,215 字节的数据。</td>
</tr>
<tr>
<td style="text-align:left">LONGTEXT</td>
<td style="text-align:left">存放最大长度为 4,294,967,295 个字符的字符串。</td>
</tr>
<tr>
<td style="text-align:left">LONGBLOB</td>
<td style="text-align:left">用于 BLOBs (Binary Large OBjects)。存放最多 4,294,967,295 字节的数据。</td>
</tr>
<tr>
<td style="text-align:left">ENUM(x,y,z,etc.)</td>
<td style="text-align:left">允许您输入可能值的列表。可以在 ENUM 列表中列出最大 65535 个值。如果列表中不存在插入的值，则插入空值。<br>注释：这些值是按照您输入的顺序排序的。<br>可以按照此格式输入可能的值： ENUM(‘X’,’Y’,’Z’)</td>
</tr>
<tr>
<td style="text-align:left">SET</td>
<td style="text-align:left">与 ENUM 类似，不同的是，SET 最多只能包含 64 个列表项且 SET 可存储一个以上的选择。</td>
</tr>
</tbody>
</table>
<p><strong>Number 类型：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TINYINT(size)</td>
<td style="text-align:left">带符号-128到127 ，无符号0到255。</td>
</tr>
<tr>
<td style="text-align:left">SMALLINT(size)</td>
<td style="text-align:left">带符号范围-32768到32767，无符号0到65535, size 默认为 6。</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMINT(size)</td>
<td style="text-align:left">带符号范围-8388608到8388607，无符号的范围是0到16777215。 size 默认为9</td>
</tr>
<tr>
<td style="text-align:left">INT(size)</td>
<td style="text-align:left">带符号范围-2147483648到2147483647，无符号的范围是0到4294967295。 size 默认为 11</td>
</tr>
<tr>
<td style="text-align:left">BIGINT(size)</td>
<td style="text-align:left">带符号的范围是-9223372036854775808到9223372036854775807，无符号的范围是0到18446744073709551615。size 默认为 20</td>
</tr>
<tr>
<td style="text-align:left">FLOAT(size,d)</td>
<td style="text-align:left">带有浮动小数点的小数字。在 size 参数中规定显示最大位数。在 d 参数中规定小数点右侧的最大位数。</td>
</tr>
<tr>
<td style="text-align:left">DOUBLE(size,d)</td>
<td style="text-align:left">带有浮动小数点的大数字。在 size 参数中规显示定最大位数。在 d 参数中规定小数点右侧的最大位数。</td>
</tr>
<tr>
<td style="text-align:left">DECIMAL(size,d)</td>
<td style="text-align:left">作为字符串存储的 DOUBLE 类型，允许固定的小数点。在 size 参数中规定显示最大位数。在 d 参数中规定小数点右侧的最大位数。</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">注意：以上的 size 代表的并不是存储在数据库中的具体的长度，如 int(4) 并不是只能存储4个长度的数字。</span><br><span class="line"></span><br><span class="line">实际上int(size)所占多少存储空间并无任何关系。int(3)、int(4)、int(8) 在磁盘上都是占用 4 btyes 的存储空间。就是在显示给用户的方式有点不同外，int(M) 跟 int 数据类型是相同的。</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"></span><br><span class="line">1、int的值为10 （指定zerofill）</span><br><span class="line"></span><br><span class="line">int（9）显示结果为000000010</span><br><span class="line">int（3）显示结果为010</span><br><span class="line">就是显示的长度不一样而已 都是占用四个字节的空间</span><br></pre></td></tr></table></figure>
<p><strong>Date 类型：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">DATE()</td>
<td style="text-align:left">日期。格式：YYYY-MM-DD<br>注释：支持的范围是从 ‘1000-01-01’ 到 ‘9999-12-31’</td>
</tr>
<tr>
<td style="text-align:left">DATETIME()</td>
<td style="text-align:left">*日期和时间的组合。格式：YYYY-MM-DD HH:MM:SS<br>注释：支持的范围是从 ‘1000-01-01 00:00:00’ 到 ‘9999-12-31 23:59:59’</td>
</tr>
<tr>
<td style="text-align:left">TIMESTAMP()</td>
<td style="text-align:left">*时间戳。TIMESTAMP 值使用 Unix 纪元(‘1970-01-01 00:00:00’ UTC) 至今的秒数来存储。格式：YYYY-MM-DD HH:MM:SS<br>注释：支持的范围是从 ‘1970-01-01 00:00:01’ UTC 到 ‘2038-01-09 03:14:07’ UTC</td>
</tr>
<tr>
<td style="text-align:left">TIME()</td>
<td style="text-align:left">时间。格式：HH:MM:SS<br>注释：支持的范围是从 ‘-838:59:59’ 到 ‘838:59:59’</td>
</tr>
<tr>
<td style="text-align:left">YEAR()</td>
<td style="text-align:left">2 位或 4 位格式的年。<br>注释：4 位格式所允许的值：1901 到 2155。2 位格式所允许的值：70 到 69，表示从 1970 到 2069。</td>
</tr>
</tbody>
</table>
<p>即便 DATETIME 和 TIMESTAMP 返回相同的格式，它们的工作方式很不同。在 INSERT 或 UPDATE 查询中，TIMESTAMP 自动把自身设置为当前的日期和时间。TIMESTAMP 也接受不同的格式，比如 YYYYMMDDHHMMSS、YYMMDDHHMMSS、YYYYMMDD 或 YYMMDD。</p>
<h3 id="SQL-Server-数据类型"><a href="#SQL-Server-数据类型" class="headerlink" title="SQL Server 数据类型"></a>SQL Server 数据类型</h3><p><strong>String 类型：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">存储</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">char(n)</td>
<td style="text-align:left">固定长度的字符串。最多 8,000 个字符。</td>
<td style="text-align:left">Defined width</td>
</tr>
<tr>
<td style="text-align:left">varchar(n)</td>
<td style="text-align:left">可变长度的字符串。最多 8,000 个字符。</td>
<td style="text-align:left">2 bytes + number of chars</td>
</tr>
<tr>
<td style="text-align:left">varchar(max)</td>
<td style="text-align:left">可变长度的字符串。最多 1,073,741,824 个字符。</td>
<td style="text-align:left">2 bytes + number of chars</td>
</tr>
<tr>
<td style="text-align:left">text</td>
<td style="text-align:left">可变长度的字符串。最多 2GB 文本数据。</td>
<td style="text-align:left">4 bytes + number of chars</td>
</tr>
<tr>
<td style="text-align:left">nchar</td>
<td style="text-align:left">固定长度的 Unicode 字符串。最多 4,000 个字符。</td>
<td style="text-align:left">Defined width x 2</td>
</tr>
<tr>
<td style="text-align:left">nvarchar</td>
<td style="text-align:left">可变长度的 Unicode 字符串。最多 4,000 个字符。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">nvarchar(max)</td>
<td style="text-align:left">可变长度的 Unicode 字符串。最多 536,870,912 个字符。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">ntext</td>
<td style="text-align:left">可变长度的 Unicode 字符串。最多 2GB 文本数据。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">bit</td>
<td style="text-align:left">允许 0、1 或 NULL</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">binary(n)</td>
<td style="text-align:left">固定长度的二进制字符串。最多 8,000 字节。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">varbinary</td>
<td style="text-align:left">可变长度的二进制字符串。最多 8,000 字节。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">varbinary(max)</td>
<td style="text-align:left">可变长度的二进制字符串。最多 2GB。</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">image</td>
<td style="text-align:left">可变长度的二进制字符串。最多 2GB。</td>
</tr>
</tbody>
</table>
<p><strong>Number 类型：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">存储</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">tinyint</td>
<td style="text-align:left">允许从 0 到 255 的所有数字。</td>
<td style="text-align:left">1 字节</td>
</tr>
<tr>
<td style="text-align:left">smallint</td>
<td style="text-align:left">允许介于 -32,768 与 32,767 的所有数字。</td>
<td style="text-align:left">2 字节</td>
</tr>
<tr>
<td style="text-align:left">int</td>
<td style="text-align:left">允许介于 -2,147,483,648 与 2,147,483,647 的所有数字。</td>
<td style="text-align:left">4 字节</td>
</tr>
<tr>
<td style="text-align:left">bigint</td>
<td style="text-align:left">允许介于 -9,223,372,036,854,775,808 与 9,223,372,036,854,775,807 之间的所有数字。</td>
<td style="text-align:left">8 字节</td>
</tr>
<tr>
<td style="text-align:left">decimal(p,s)</td>
<td style="text-align:left">固定精度和比例的数字。<br>允许从 -10^38 +1 到 10^38 -1 之间的数字。<br>p 参数指示可以存储的最大位数（小数点左侧和右侧）。p 必须是 1 到 38 之间的值。默认是 18。<br>s 参数指示小数点右侧存储的最大位数。s 必须是 0 到 p 之间的值。默认是 0。</td>
<td style="text-align:left">5-17 字节</td>
</tr>
<tr>
<td style="text-align:left">numeric(p,s)</td>
<td style="text-align:left">固定精度和比例的数字。<br>允许从 -10^38 +1 到 10^38 -1 之间的数字。<br>p 参数指示可以存储的最大位数（小数点左侧和右侧）。p 必须是 1 到 38 之间的值。默认是 18。<br>s 参数指示小数点右侧存储的最大位数。s 必须是 0 到 p 之间的值。默认是 0。</td>
<td style="text-align:left">5-17 字节</td>
</tr>
<tr>
<td style="text-align:left">smallmoney</td>
<td style="text-align:left">介于 -214,748.3648 与 214,748.3647 之间的货币数据。</td>
<td style="text-align:left">4 字节</td>
</tr>
<tr>
<td style="text-align:left">money</td>
<td style="text-align:left">介于 -922,337,203,685,477.5808 与 922,337,203,685,477.5807 之间的货币数据。</td>
<td style="text-align:left">8 字节</td>
</tr>
<tr>
<td style="text-align:left">float(n)</td>
<td style="text-align:left">从 -1.79E + 308 到 1.79E + 308 的浮动精度数字数据。<br>n 参数指示该字段保存 4 字节还是 8 字节。float(24) 保存 4 字节，而 float(53) 保存 8 字节。n 的默认值是 53。</td>
<td style="text-align:left">4 或 8 字节</td>
</tr>
<tr>
<td style="text-align:left">real</td>
<td style="text-align:left">从 -3.40E + 38 到 3.40E + 38 的浮动精度数字数据。</td>
<td style="text-align:left">4 字节</td>
</tr>
</tbody>
</table>
<p><strong>Date 类型：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">存储</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">datetime</td>
<td style="text-align:left">从 1753 年 1 月 1 日 到 9999 年 12 月 31 日，精度为 3.33 毫秒。</td>
<td style="text-align:left">8 字节</td>
</tr>
<tr>
<td style="text-align:left">datetime2</td>
<td style="text-align:left">从 1753 年 1 月 1 日 到 9999 年 12 月 31 日，精度为 100 纳秒。</td>
<td style="text-align:left">6-8 字节</td>
</tr>
<tr>
<td style="text-align:left">smalldatetime</td>
<td style="text-align:left">从 1900 年 1 月 1 日 到 2079 年 6 月 6 日，精度为 1 分钟。</td>
<td style="text-align:left">4 字节</td>
</tr>
<tr>
<td style="text-align:left">date</td>
<td style="text-align:left">仅存储日期。从 0001 年 1 月 1 日 到 9999 年 12 月 31 日。</td>
<td style="text-align:left">3 bytes</td>
</tr>
<tr>
<td style="text-align:left">time</td>
<td style="text-align:left">仅存储时间。精度为 100 纳秒。</td>
<td style="text-align:left">3-5 字节</td>
</tr>
<tr>
<td style="text-align:left">datetimeoffset</td>
<td style="text-align:left">与 datetime2 相同，外加时区偏移。</td>
<td style="text-align:left">8-10 字节</td>
</tr>
<tr>
<td style="text-align:left">timestamp</td>
<td style="text-align:left">存储唯一的数字，每当创建或修改某行时，该数字会更新。timestamp 值基于内部时钟，不对应真实时间。每个表只能有一个 timestamp 变量。</td>
</tr>
</tbody>
</table>
<p><strong>其他数据类型：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sql_variant</td>
<td style="text-align:left">存储最多 8,000 字节不同数据类型的数据，除了 text、ntext 以及 timestamp。</td>
</tr>
<tr>
<td style="text-align:left">uniqueidentifier</td>
<td style="text-align:left">存储全局唯一标识符 (GUID)。</td>
</tr>
<tr>
<td style="text-align:left">xml</td>
<td style="text-align:left">存储 XML 格式化数据。最多 2GB。</td>
</tr>
<tr>
<td style="text-align:left">cursor</td>
<td style="text-align:left">存储对用于数据库操作的指针的引用。</td>
</tr>
<tr>
<td style="text-align:left">table</td>
<td style="text-align:left">存储结果集，供稍后处理。</td>
</tr>
</tbody>
</table>
<h1 id="——————-SQL函数-——————"><a href="#——————-SQL函数-——————" class="headerlink" title="—————— SQL函数 ——————"></a>—————— SQL函数 ——————</h1><h2 id="SQL-函数"><a href="#SQL-函数" class="headerlink" title="SQL 函数"></a>SQL 函数</h2><p>SQL 拥有很多可用于计数和计算的内建函数。</p>
<h3 id="Aggregate-函数"><a href="#Aggregate-函数" class="headerlink" title="Aggregate 函数"></a>Aggregate 函数</h3><p>SQL Aggregate 函数计算从列中取得的值，返回一个单一的值。</p>
<p>有用的 Aggregate 函数：</p>
<ul>
<li>AVG() - 返回平均值</li>
<li>COUNT() - 返回行数</li>
<li>FIRST() - 返回第一个记录的值</li>
<li>LAST() - 返回最后一个记录的值</li>
<li>MAX() - 返回最大值</li>
<li>MIN() - 返回最小值</li>
<li>SUM() - 返回总和</li>
</ul>
<h3 id="Scalar-函数"><a href="#Scalar-函数" class="headerlink" title="Scalar 函数"></a>Scalar 函数</h3><p>SQL Scalar 函数基于输入值，返回一个单一的值。</p>
<p>有用的 Scalar 函数：</p>
<ul>
<li>UCASE() - 将某个字段转换为大写</li>
<li>LCASE() - 将某个字段转换为小写</li>
<li>MID() - 从某个文本字段提取字符，MySql 中使用</li>
<li>SubString(字段，1，end) - 从某个文本字段提取字符</li>
<li>LEN() - 返回某个文本字段的长度</li>
<li>ROUND() - 对某个数值字段进行指定小数位数的四舍五入</li>
<li>NOW() - 返回当前的系统日期和时间</li>
<li>FORMAT() - 格式化某个字段的显示方式</li>
</ul>
<h3 id="演示数据库-1"><a href="#演示数据库-1" class="headerlink" title="演示数据库"></a>演示数据库</h3><p>在本教程中，我们将使用 RUNOOB 样本数据库。</p>
<p>下面是选自 “access_log” 表的数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">+-----+---------+-------+------------+</span><br><span class="line">| aid | site_id | count | date       |</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line">|   1 |       1 |    45 | 2016-05-10 |</span><br><span class="line">|   2 |       3 |   100 | 2016-05-13 |</span><br><span class="line">|   3 |       1 |   230 | 2016-05-14 |</span><br><span class="line">|   4 |       2 |    10 | 2016-05-14 |</span><br><span class="line">|   5 |       5 |   205 | 2016-05-14 |</span><br><span class="line">|   6 |       4 |    13 | 2016-05-15 |</span><br><span class="line">|   7 |       3 |   220 | 2016-05-15 |</span><br><span class="line">|   8 |       5 |   545 | 2016-05-16 |</span><br><span class="line">|   9 |       3 |   201 | 2016-05-17 |</span><br><span class="line">+-----+---------+-------+------------+</span><br></pre></td></tr></table></figure></p>
<h2 id="AVG-函数"><a href="#AVG-函数" class="headerlink" title="AVG() 函数"></a>AVG() 函数</h2><p>AVG() 函数返回数值列的平均值。</p>
<h3 id="SQL-AVG-语法"><a href="#SQL-AVG-语法" class="headerlink" title="SQL AVG() 语法"></a>SQL AVG() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT AVG(column_name) FROM table_name</span><br></pre></td></tr></table></figure>
<h3 id="实例-17"><a href="#实例-17" class="headerlink" title="实例"></a>实例</h3><p>下面的 SQL 语句从 “access_log” 表的 “count” 列获取平均值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT AVG(count) AS CountAverage FROM access_log;</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 输出结果如下：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLavg1.jpg" alt=""><br>下面的 SQL 语句选择访问量高于平均访问量的 “site_id” 和 “count”：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT site_id, count FROM access_log</span><br><span class="line">WHERE count &gt; (SELECT AVG(count) FROM access_log);</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 输出结果如下：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLavg2.jpg" alt=""></p>
<h2 id="COUNT-函数"><a href="#COUNT-函数" class="headerlink" title="COUNT() 函数"></a>COUNT() 函数</h2><p>COUNT() 函数返回匹配指定条件的行数。</p>
<h3 id="SQL-COUNT-column-name-语法"><a href="#SQL-COUNT-column-name-语法" class="headerlink" title="SQL COUNT(column_name) 语法"></a>SQL COUNT(column_name) 语法</h3><p>COUNT(column_name) 函数返回指定列的值的数目（NULL 不计入）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(column_name) FROM table_name;</span><br></pre></td></tr></table></figure></p>
<p>SQL COUNT(*) 语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(*) FROM table_name;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-COUNT-DISTINCT-column-name-语法"><a href="#SQL-COUNT-DISTINCT-column-name-语法" class="headerlink" title="SQL COUNT(DISTINCT column_name) 语法"></a>SQL COUNT(DISTINCT column_name) 语法</h3><p>COUNT(DISTINCT column_name) 函数返回指定列的不同值的数目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(DISTINCT column_name) FROM table_name;</span><br></pre></td></tr></table></figure></p>
<p><strong>注释</strong>：COUNT(DISTINCT) 适用于 ORACLE 和 Microsoft SQL Server，但是无法用于 Microsoft Access。</p>
<h3 id="SQL-COUNT-column-name-实例"><a href="#SQL-COUNT-column-name-实例" class="headerlink" title="SQL COUNT(column_name) 实例"></a>SQL COUNT(column_name) 实例</h3><p>下面的 SQL 语句计算 “access_log” 表中 “site_id”=3 的总访问量：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(count) AS nums FROM access_log</span><br><span class="line">WHERE site_id=3;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-COUNT-实例"><a href="#SQL-COUNT-实例" class="headerlink" title="SQL COUNT(*) 实例"></a>SQL COUNT(*) 实例</h3><p>下面的 SQL 语句计算 “access_log” 表中总记录数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(*) AS nums FROM access_log;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLcount1.jpg" alt=""></p>
<h3 id="SQL-COUNT-DISTINCT-column-name-实例"><a href="#SQL-COUNT-DISTINCT-column-name-实例" class="headerlink" title="SQL COUNT(DISTINCT column_name) 实例"></a>SQL COUNT(DISTINCT column_name) 实例</h3><p>下面的 SQL 语句计算 “access_log” 表中不同 site_id 的记录数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(DISTINCT site_id) AS nums FROM access_log;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLcount2.jpg" alt=""></p>
<h3 id="笔记-7"><a href="#笔记-7" class="headerlink" title="笔记"></a>笔记</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 查询所有记录的条数</span><br><span class="line">select count(*) from access_log;</span><br><span class="line"></span><br><span class="line">-- 查询websites 表中 alexa列中不为空的记录的条数</span><br><span class="line">select count(alexa) from websites;</span><br><span class="line"></span><br><span class="line">-- 查询websites表中 country列中不重复的记录条数</span><br><span class="line">select count(distinct country) from websites;</span><br></pre></td></tr></table></figure>
<h2 id="FIRST-函数"><a href="#FIRST-函数" class="headerlink" title="FIRST() 函数"></a>FIRST() 函数</h2><p>FIRST() 函数返回指定的列中第一个记录的值。</p>
<h3 id="SQL-FIRST-语法"><a href="#SQL-FIRST-语法" class="headerlink" title="SQL FIRST() 语法"></a>SQL FIRST() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT FIRST(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<p><strong>注释</strong>：只有 MS Access 支持 FIRST() 函数。</p>
<h3 id="SQL-Server、MySQL-和-Oracle-中的-SQL-FIRST-工作区"><a href="#SQL-Server、MySQL-和-Oracle-中的-SQL-FIRST-工作区" class="headerlink" title="SQL Server、MySQL 和 Oracle 中的 SQL FIRST() 工作区"></a>SQL Server、MySQL 和 Oracle 中的 SQL FIRST() 工作区</h3><h4 id="SQL-Server-语法"><a href="#SQL-Server-语法" class="headerlink" title="SQL Server 语法"></a>SQL Server 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 1 column_name FROM table_name</span><br><span class="line">ORDER BY column_name ASC;</span><br></pre></td></tr></table></figure>
<p><strong>实例</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 1 name FROM Websites</span><br><span class="line">ORDER BY id ASC;</span><br></pre></td></tr></table></figure></p>
<h4 id="MySQL-语法-1"><a href="#MySQL-语法-1" class="headerlink" title="MySQL 语法"></a>MySQL 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name FROM table_name</span><br><span class="line">ORDER BY column_name ASC</span><br><span class="line">LIMIT 1;</span><br></pre></td></tr></table></figure>
<p><strong>实例</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM Websites</span><br><span class="line">ORDER BY id ASC</span><br><span class="line">LIMIT 1;</span><br></pre></td></tr></table></figure></p>
<h4 id="Oracle-语法-1"><a href="#Oracle-语法-1" class="headerlink" title="Oracle 语法"></a>Oracle 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name FROM table_name</span><br><span class="line">ORDER BY column_name ASC</span><br><span class="line">WHERE ROWNUM &lt;=1;</span><br></pre></td></tr></table></figure>
<p><strong>实例</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM Websites</span><br><span class="line">ORDER BY id ASC</span><br><span class="line">WHERE ROWNUM &lt;=1;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-FIRST-实例"><a href="#SQL-FIRST-实例" class="headerlink" title="SQL FIRST() 实例"></a>SQL FIRST() 实例</h3><p>下面的 SQL 语句选取 “Websites” 表的 “name” 列中第一个记录的值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT name AS FirstSite FROM Websites LIMIT 1;</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 结果如下所示：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLFIRST1.jpg" alt=""></p>
<h2 id="LAST-函数"><a href="#LAST-函数" class="headerlink" title="LAST() 函数"></a>LAST() 函数</h2><p>LAST() 函数返回指定的列中最后一个记录的值。</p>
<h3 id="SQL-LAST-语法"><a href="#SQL-LAST-语法" class="headerlink" title="SQL LAST() 语法"></a>SQL LAST() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT LAST(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<p><strong>注释</strong>：只有 MS Access 支持 LAST() 函数。</p>
<h3 id="SQL-Server、MySQL-和-Oracle-中的-SQL-LAST-工作区"><a href="#SQL-Server、MySQL-和-Oracle-中的-SQL-LAST-工作区" class="headerlink" title="SQL Server、MySQL 和 Oracle 中的 SQL LAST() 工作区"></a>SQL Server、MySQL 和 Oracle 中的 SQL LAST() 工作区</h3><h4 id="SQL-Server-语法-1"><a href="#SQL-Server-语法-1" class="headerlink" title="SQL Server 语法"></a>SQL Server 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 1 column_name FROM table_name</span><br><span class="line">ORDER BY column_name DESC;</span><br></pre></td></tr></table></figure>
<p><strong>实例</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 1 name FROM Websites </span><br><span class="line">ORDER BY id DESC;</span><br></pre></td></tr></table></figure></p>
<h4 id="MySQL-语法-2"><a href="#MySQL-语法-2" class="headerlink" title="MySQL 语法"></a>MySQL 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name FROM table_name</span><br><span class="line">ORDER BY column_name DESC</span><br><span class="line">LIMIT 1;</span><br></pre></td></tr></table></figure>
<p><strong>实例</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM Websites</span><br><span class="line">ORDER BY id DESC</span><br><span class="line">LIMIT 1;</span><br></pre></td></tr></table></figure></p>
<h4 id="Oracle-语法-2"><a href="#Oracle-语法-2" class="headerlink" title="Oracle 语法"></a>Oracle 语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name FROM table_name</span><br><span class="line">ORDER BY column_name DESC</span><br><span class="line">WHERE ROWNUM &lt;=1;</span><br></pre></td></tr></table></figure>
<p><strong>实例</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM Websites</span><br><span class="line">ORDER BY id DESC</span><br><span class="line">WHERE ROWNUM &lt;=1;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-LAST-实例"><a href="#SQL-LAST-实例" class="headerlink" title="SQL LAST() 实例"></a>SQL LAST() 实例</h3><p>下面的 SQL 语句选取 “Websites” 表的 “name” 列中最后一个记录的值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM Websites</span><br><span class="line">ORDER BY id DESC</span><br><span class="line">LIMIT 1;</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 结果如下所示：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLlast1.jpg" alt=""></p>
<h2 id="MAX-函数"><a href="#MAX-函数" class="headerlink" title="MAX() 函数"></a>MAX() 函数</h2><p>MAX() 函数返回指定列的最大值。</p>
<h3 id="SQL-MAX-语法"><a href="#SQL-MAX-语法" class="headerlink" title="SQL MAX() 语法"></a>SQL MAX() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT MAX(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="SQL-MAX-实例"><a href="#SQL-MAX-实例" class="headerlink" title="SQL MAX() 实例"></a>SQL MAX() 实例</h3><p>下面的 SQL 语句从 “Websites” 表的 “alexa” 列获取最大值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT MAX(alexa) AS max_alexa FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 结果如下所示：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLmax1.jpg" alt=""></p>
<h2 id="MIN-Function"><a href="#MIN-Function" class="headerlink" title="MIN() Function"></a>MIN() Function</h2><p>MIN() 函数返回指定列的最小值。</p>
<h3 id="SQL-MIN-语法"><a href="#SQL-MIN-语法" class="headerlink" title="SQL MIN() 语法"></a>SQL MIN() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT MIN(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="SQL-MIN-实例"><a href="#SQL-MIN-实例" class="headerlink" title="SQL MIN() 实例"></a>SQL MIN() 实例</h3><p>下面的 SQL 语句从 “Websites” 表的 “alexa” 列获取最小值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT MIN(alexa) AS min_alexa FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLmin1.jpg" alt=""></p>
<h2 id="SUM-函数"><a href="#SUM-函数" class="headerlink" title="SUM() 函数"></a>SUM() 函数</h2><p>SUM() 函数返回数值列的总数。</p>
<h3 id="SQL-SUM-语法"><a href="#SQL-SUM-语法" class="headerlink" title="SQL SUM() 语法"></a>SQL SUM() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT SUM(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="SQL-SUM-实例"><a href="#SQL-SUM-实例" class="headerlink" title="SQL SUM() 实例"></a>SQL SUM() 实例</h3><p>下面的 SQL 语句查找 “access_log” 表的 “count” 字段的总数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT SUM(count) AS nums FROM access_log;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLsum1.jpg" alt=""></p>
<h2 id="GROUP-BY-语句"><a href="#GROUP-BY-语句" class="headerlink" title="GROUP BY 语句"></a>GROUP BY 语句</h2><p>GROUP BY 语句可结合一些聚合函数来使用，用于结合聚合函数，根据一个或多个列对结果集进行分组。</p>
<h3 id="SQL-GROUP-BY-语法"><a href="#SQL-GROUP-BY-语法" class="headerlink" title="SQL GROUP BY 语法"></a>SQL GROUP BY 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name, aggregate_function(column_name)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name operator value</span><br><span class="line">GROUP BY column_name;</span><br></pre></td></tr></table></figure>
<h3 id="GROUP-BY-简单应用"><a href="#GROUP-BY-简单应用" class="headerlink" title="GROUP BY 简单应用"></a>GROUP BY 简单应用</h3><p>统计 access_log 各个 site_id 的访问量：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT site_id, SUM(access_log.count) AS nums</span><br><span class="line">FROM access_log GROUP BY site_id;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLgroupby1.jpg" alt=""></p>
<h3 id="SQL-GROUP-BY-多表连接"><a href="#SQL-GROUP-BY-多表连接" class="headerlink" title="SQL GROUP BY 多表连接"></a>SQL GROUP BY 多表连接</h3><p>现在我们想要查找每个送货员配送的订单数目。</p>
<p>下面的 SQL 语句统计所有网站的访问的记录数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name,COUNT(access_log.aid) AS nums FROM access_log</span><br><span class="line">LEFT JOIN Websites</span><br><span class="line">ON access_log.site_id=Websites.id</span><br><span class="line">GROUP BY Websites.name;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLgroupby2.jpg" alt=""></p>
<h2 id="HAVING-子句"><a href="#HAVING-子句" class="headerlink" title="HAVING 子句"></a>HAVING 子句</h2><p>在 SQL 中增加 HAVING 子句原因是，WHERE 关键字无法与聚合函数一起使用。</p>
<p>HAVING 子句可以让我们筛选分组后的各组数据。</p>
<h3 id="SQL-HAVING-语法"><a href="#SQL-HAVING-语法" class="headerlink" title="SQL HAVING 语法"></a>SQL HAVING 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name, aggregate_function(column_name)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name operator value</span><br><span class="line">GROUP BY column_name</span><br><span class="line">HAVING aggregate_function(column_name) operator value;</span><br></pre></td></tr></table></figure>
<h3 id="SQL-HAVING-实例"><a href="#SQL-HAVING-实例" class="headerlink" title="SQL HAVING 实例"></a>SQL HAVING 实例</h3><p>现在我们想要查找总访问量大于 200 的网站。</p>
<p>我们使用下面的 SQL 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, Websites.url, SUM(access_log.count) AS nums FROM (access_log</span><br><span class="line">INNER JOIN Websites</span><br><span class="line">ON access_log.site_id=Websites.id)</span><br><span class="line">GROUP BY Websites.name</span><br><span class="line">HAVING SUM(access_log.count) &gt; 200;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-HAVING-实例-1"><a href="#SQL-HAVING-实例-1" class="headerlink" title="SQL HAVING 实例"></a>SQL HAVING 实例</h3><p>现在我们想要查找总访问量大于 200 的网站。</p>
<p>我们使用下面的 SQL 语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, Websites.url, SUM(access_log.count) AS nums FROM (access_log</span><br><span class="line">INNER JOIN Websites</span><br><span class="line">ON access_log.site_id=Websites.id)</span><br><span class="line">GROUP BY Websites.name</span><br><span class="line">HAVING SUM(access_log.count) &gt; 200;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLhaving1.jpg" alt=""></p>
<p>现在我们想要查找总访问量大于 200 的网站，并且 alexa 排名小于 200。</p>
<p>我们在 SQL 语句中增加一个普通的 WHERE 子句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT Websites.name, SUM(access_log.count) AS nums FROM Websites</span><br><span class="line">INNER JOIN access_log</span><br><span class="line">ON Websites.id=access_log.site_id</span><br><span class="line">WHERE Websites.alexa &lt; 200 </span><br><span class="line">GROUP BY Websites.name</span><br><span class="line">HAVING SUM(access_log.count) &gt; 200;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLhaving2.jpg" alt=""></p>
<h2 id="UCASE-函数"><a href="#UCASE-函数" class="headerlink" title="UCASE() 函数"></a>UCASE() 函数</h2><p>UCASE() 函数把字段的值转换为大写。</p>
<h3 id="SQL-UCASE-语法"><a href="#SQL-UCASE-语法" class="headerlink" title="SQL UCASE() 语法"></a>SQL UCASE() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT UCASE(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="用于-SQL-Server-的语法-1"><a href="#用于-SQL-Server-的语法-1" class="headerlink" title="用于 SQL Server 的语法"></a>用于 SQL Server 的语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT UPPER(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="SQL-UCASE-实例"><a href="#SQL-UCASE-实例" class="headerlink" title="SQL UCASE() 实例"></a>SQL UCASE() 实例</h3><p>下面的 SQL 语句从 “Websites” 表中选取 “name” 和 “url” 列，并把 “name” 列的值转换为大写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT UCASE(name) AS site_title, url</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 输出结果如下：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLucase1.jpg" alt=""></p>
<h2 id="LCASE-函数"><a href="#LCASE-函数" class="headerlink" title="LCASE() 函数"></a>LCASE() 函数</h2><p>LCASE() 函数把字段的值转换为小写。</p>
<h3 id="SQL-LCASE-语法"><a href="#SQL-LCASE-语法" class="headerlink" title="SQL LCASE() 语法"></a>SQL LCASE() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT LCASE(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="用于-SQL-Server-的语法-2"><a href="#用于-SQL-Server-的语法-2" class="headerlink" title="用于 SQL Server 的语法"></a>用于 SQL Server 的语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT LOWER(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="SQL-LCASE-实例"><a href="#SQL-LCASE-实例" class="headerlink" title="SQL LCASE() 实例"></a>SQL LCASE() 实例</h3><p>下面的 SQL 语句从 “Websites” 表中选取 “name” 和 “url” 列，并把 “name” 列的值转换为小写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT LCASE(name) AS site_title, url</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 输出结果如下：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLlcase1.jpg" alt=""></p>
<h2 id="MID-函数"><a href="#MID-函数" class="headerlink" title="MID() 函数"></a>MID() 函数</h2><p>MID() 函数用于从文本字段中提取字符。</p>
<h3 id="SQL-MID-语法"><a href="#SQL-MID-语法" class="headerlink" title="SQL MID() 语法"></a>SQL MID() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT MID(column_name,start[,length]) FROM table_name;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">column_name</td>
<td style="text-align:left">必需。要提取字符的字段。</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">必需。规定开始位置（起始值是 1）。</td>
</tr>
<tr>
<td style="text-align:left">length</td>
<td style="text-align:left">可选。要返回的字符数。如果省略，则 MID() 函数返回剩余文本。</td>
</tr>
</tbody>
</table>
<h3 id="SQL-MID-实例"><a href="#SQL-MID-实例" class="headerlink" title="SQL MID() 实例"></a>SQL MID() 实例</h3><p>下面的 SQL 语句从 “Websites” 表的 “name” 列中提取前 4 个字符：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT MID(name,1,4) AS ShortTitle</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p>执行以上 SQL 输出结果如下：<br><img src="http://qiniu.hayato.tech/markdownimages/SQLmid1.jpg" alt=""></p>
<h2 id="LEN-函数"><a href="#LEN-函数" class="headerlink" title="LEN() 函数"></a>LEN() 函数</h2><p>LEN() 函数返回文本字段中值的长度。</p>
<h3 id="SQL-LEN-语法"><a href="#SQL-LEN-语法" class="headerlink" title="SQL LEN() 语法"></a>SQL LEN() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT LEN(column_name) FROM table_name;</span><br></pre></td></tr></table></figure>
<p>MySQL 中函数为 LENGTH():<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT LENGTH(column_name) FROM table_name;</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-LEN-实例"><a href="#SQL-LEN-实例" class="headerlink" title="SQL LEN() 实例"></a>SQL LEN() 实例</h3><p>下面的 SQL 语句从 “Websites” 表中选取 “name” 和 “url” 列中值的长度：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, LENGTH(url) as LengthOfURL</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLlen1.jpg" alt=""></p>
<h2 id="ROUND-函数"><a href="#ROUND-函数" class="headerlink" title="ROUND() 函数"></a>ROUND() 函数</h2><p>ROUND() 函数用于把数值字段舍入为指定的小数位数。</p>
<h3 id="SQL-ROUND-语法"><a href="#SQL-ROUND-语法" class="headerlink" title="SQL ROUND() 语法"></a>SQL ROUND() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT ROUND(column_name,decimals) FROM table_name;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">column_name</td>
<td style="text-align:left">必需。要舍入的字段。</td>
</tr>
<tr>
<td style="text-align:left">decimals</td>
<td style="text-align:left">必需。规定要返回的小数位数。</td>
</tr>
</tbody>
</table>
<h3 id="SQL-ROUND-实例"><a href="#SQL-ROUND-实例" class="headerlink" title="SQL ROUND() 实例"></a>SQL ROUND() 实例</h3><p><strong>ROUND(X)</strong>： 返回参数X的四舍五入的一个整数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select ROUND(-1.23);</span><br><span class="line">        -&gt; -1</span><br><span class="line">mysql&gt; select ROUND(-1.58);</span><br><span class="line">        -&gt; -2</span><br><span class="line">mysql&gt; select ROUND(1.58);</span><br><span class="line">        -&gt; 2</span><br></pre></td></tr></table></figure></p>
<p><strong>ROUND(X,D)</strong>： 返回参数X的四舍五入的有 D 位小数的一个数字。如果D为0，结果将没有小数点或小数部分。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select ROUND(1.298, 1);</span><br><span class="line">        -&gt; 1.3</span><br><span class="line">mysql&gt; select ROUND(1.298, 0);</span><br><span class="line">        -&gt; 1</span><br></pre></td></tr></table></figure></p>
<p>注意：ROUND 返回值被变换为一个BIGINT!</p>
<h2 id="NOW-函数"><a href="#NOW-函数" class="headerlink" title="NOW() 函数"></a>NOW() 函数</h2><p>NOW() 函数返回当前系统的日期和时间。</p>
<h3 id="SQL-NOW-语法"><a href="#SQL-NOW-语法" class="headerlink" title="SQL NOW() 语法"></a>SQL NOW() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT NOW() FROM table_name;</span><br></pre></td></tr></table></figure>
<h3 id="SQL-NOW-实例"><a href="#SQL-NOW-实例" class="headerlink" title="SQL NOW() 实例"></a>SQL NOW() 实例</h3><p>下面的 SQL 语句从 “Websites” 表中选取 name，url，及当天日期：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, url, Now() AS date</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLnow1.jpg" alt=""></p>
<h2 id="FORMAT-函数"><a href="#FORMAT-函数" class="headerlink" title="FORMAT() 函数"></a>FORMAT() 函数</h2><p>FORMAT() 函数用于对字段的显示进行格式化。</p>
<h3 id="SQL-FORMAT-语法"><a href="#SQL-FORMAT-语法" class="headerlink" title="SQL FORMAT() 语法"></a>SQL FORMAT() 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT FORMAT(column_name,format) FROM table_name;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">column_name</td>
<td style="text-align:left">必需。要格式化的字段。</td>
</tr>
<tr>
<td style="text-align:left">format</td>
<td style="text-align:left">必需。规定格式。</td>
</tr>
</tbody>
</table>
<h3 id="SQL-FORMAT-实例"><a href="#SQL-FORMAT-实例" class="headerlink" title="SQL FORMAT() 实例"></a>SQL FORMAT() 实例</h3><p>下面的 SQL 语句从 “Websites” 表中选取 name, url 以及格式化为 YYYY-MM-DD 的日期：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, url, DATE_FORMAT(Now(),&apos;%Y-%m-%d&apos;) AS date</span><br><span class="line">FROM Websites;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://qiniu.hayato.tech/markdownimages/SQLformate1.jpg" alt=""></p>
<h2 id="快速参考"><a href="#快速参考" class="headerlink" title="快速参考"></a>快速参考</h2><table>
<thead>
<tr>
<th style="text-align:left">SQL 语句</th>
<th style="text-align:left">语法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">AND / OR</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name<br>WHERE condition<br>AND OR condition</td>
</tr>
<tr>
<td style="text-align:left">ALTER TABLE</td>
<td style="text-align:left">ALTER TABLE table_name <br>ADD column_name datatype<br>or<br>ALTER TABLE table_name <br>DROP COLUMN column_name</td>
</tr>
<tr>
<td style="text-align:left">AS (alias)</td>
<td style="text-align:left">SELECT column_name AS column_alias<br>FROM table_name<br>or<br>SELECT column_name<br>FROM table_name AS table_alias</td>
</tr>
<tr>
<td style="text-align:left">BETWEEN</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name<br>WHERE column_name<br>BETWEEN value1 AND value2</td>
</tr>
<tr>
<td style="text-align:left">CREATE DATABASE</td>
<td style="text-align:left">CREATE DATABASE database_name</td>
</tr>
<tr>
<td style="text-align:left">CREATE TABLE</td>
<td style="text-align:left">CREATE TABLE table_name<br>(<br>column_name1 data_type,<br>column_name2 data_type,<br>column_name2 data_type,<br>…<br>)</td>
</tr>
<tr>
<td style="text-align:left">CREATE INDEX</td>
<td style="text-align:left">CREATE INDEX index_name<br>ON table_name (column_name)<br>or<br>CREATE UNIQUE INDEX index_name<br>ON table_name (column_name)</td>
</tr>
<tr>
<td style="text-align:left">CREATE VIEW</td>
<td style="text-align:left">CREATE VIEW view_name AS<br>SELECT column_name(s)<br>FROM table_name<br>WHERE condition</td>
</tr>
<tr>
<td style="text-align:left">DELETE</td>
<td style="text-align:left">DELETE FROM table_name<br>WHERE some_column=some_value<br>or<br>DELETE FROM table_name <br>(<strong>Note</strong>: Deletes the entire table!!)<br>DELETE * FROM table_name <br>(<strong>Note</strong>: Deletes the entire table!!)</td>
</tr>
<tr>
<td style="text-align:left">DROP DATABASE</td>
<td style="text-align:left">DROP DATABASE database_name</td>
</tr>
<tr>
<td style="text-align:left">DROP INDEX</td>
<td style="text-align:left">DROP INDEX table_name.index_name (SQL Server)<br>DROP INDEX index_name ON table_name (MS Access)<br>DROP INDEX index_name (DB2/Oracle)<br>ALTER TABLE table_name<br>DROP INDEX index_name (MySQL)</td>
</tr>
<tr>
<td style="text-align:left">DROP TABLE</td>
<td style="text-align:left">DROP TABLE table_name</td>
</tr>
<tr>
<td style="text-align:left">GROUP BY</td>
<td style="text-align:left">SELECT column_name, aggregate_function(column_name)<br>FROM table_name<br>WHERE column_name operator value<br>GROUP BY column_name</td>
</tr>
<tr>
<td style="text-align:left">HAVING</td>
<td style="text-align:left">SELECT column_name, aggregate_function(column_name)<br>FROM table_name<br>WHERE column_name operator value<br>GROUP BY column_name<br>HAVING aggregate_function(column_name) operator value</td>
</tr>
<tr>
<td style="text-align:left">IN</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name<br>WHERE column_name<br>IN (value1,value2,..)</td>
</tr>
<tr>
<td style="text-align:left">INSERT INTO</td>
<td style="text-align:left">INSERT INTO table_name<br>VALUES (value1, value2, value3,….)<br>or<br>INSERT INTO table_name<br>(column1, column2, column3,…)<br>VALUES (value1, value2, value3,….)</td>
</tr>
<tr>
<td style="text-align:left">INNER JOIN</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name1<br>INNER JOIN table_name2 <br>ON table_name1.column_name=table_name2.column_name</td>
</tr>
<tr>
<td style="text-align:left">LEFT JOIN</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name1<br>LEFT JOIN table_name2 <br>ON table_name1.column_name=table_name2.column_name</td>
</tr>
<tr>
<td style="text-align:left">RIGHT JOIN</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name1<br>RIGHT JOIN table_name2 <br>ON table_name1.column_name=table_name2.column_name</td>
</tr>
<tr>
<td style="text-align:left">FULL JOIN</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name1<br>FULL JOIN table_name2 <br>ON table_name1.column_name=table_name2.column_name</td>
</tr>
<tr>
<td style="text-align:left">LIKE</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name<br>WHERE column_name LIKE pattern</td>
</tr>
<tr>
<td style="text-align:left">ORDER BY</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name<br>ORDER BY column_name [ASC/DESC]</td>
</tr>
<tr>
<td style="text-align:left">SELECT</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name</td>
</tr>
<tr>
<td style="text-align:left">SELECT *</td>
<td style="text-align:left">SELECT *<br>FROM table_name</td>
</tr>
<tr>
<td style="text-align:left">SELECT DISTINCT</td>
<td style="text-align:left">SELECT DISTINCT column_name(s)<br>FROM table_name</td>
</tr>
<tr>
<td style="text-align:left">SELECT INTO</td>
<td style="text-align:left">SELECT *<br>INTO new_table_name [IN externaldatabase]<br>FROM old_table_name<br>or<br>SELECT column_name(s)<br>INTO new_table_name [IN externaldatabase]<br>FROM old_table_name</td>
</tr>
<tr>
<td style="text-align:left">SELECT TOP</td>
<td style="text-align:left">SELECT TOP number/percent column_name(s)<br>FROM table_name</td>
</tr>
<tr>
<td style="text-align:left">TRUNCATE TABLE</td>
<td style="text-align:left">TRUNCATE TABLE table_name</td>
</tr>
<tr>
<td style="text-align:left">UNION</td>
<td style="text-align:left">SELECT column_name(s) FROM table_name1<br>UNION<br>SELECT column_name(s) FROM table_name2</td>
</tr>
<tr>
<td style="text-align:left">UNION ALL</td>
<td style="text-align:left">SELECT column_name(s) FROM table_name1<br>UNION ALL<br>SELECT column_name(s) FROM table_name2</td>
</tr>
<tr>
<td style="text-align:left">UPDATE</td>
<td style="text-align:left">UPDATE table_name<br>SET column1=value, column2=value,…<br>WHERE some_column=some_value</td>
</tr>
<tr>
<td style="text-align:left">WHERE</td>
<td style="text-align:left">SELECT column_name(s)<br>FROM table_name<br>WHERE column_name operator value</td>
</tr>
</tbody>
</table>
<h2 id="SQL-主机"><a href="#SQL-主机" class="headerlink" title="SQL 主机"></a>SQL 主机</h2><p>如果您想要您的网站存储数据在数据库并从数据库显示数据，您的 Web 服务器必须能使用 SQL 语言访问数据库系统。</p>
<p>如果您的 Web 服务器托管在互联网服务提供商（ISP，全称 Internet Service Provider），您必须寻找 SQL 主机计划。</p>
<p>最常见的 SQL 主机数据库是 MySQL、MS SQL Server 和 MS Access。</p>
<p>您可以在 Windows 和 Linux/UNIX 操作系统上运行 SQL 主机数据库。</p>
<p>下面是操作系统上对应运行的数据库系统的概览。<br><strong>MS SQL Server</strong><br>在 Windows 和 Linux 操作系统上运行。<br><strong>MySQL</strong><br>在 Windows, Mac OS X 和 Linux/UNIX 操作系统上运行。<br><strong>MS Access</strong>（只建议用于小型网站）<br>只在 Windows OS 上运行。<br>如需学习有关 Web 主机的知识，请访<a href="http://www.runoob.com/hosting/hosting-tutorial.html" target="_blank" rel="noopener">主机教程</a></p>
<h2 id="SQL-总结"><a href="#SQL-总结" class="headerlink" title="SQL 总结"></a>SQL 总结</h2><p>本 SQL 教程已经向您讲解了用来访问和处理数据库系统的标准计算机语言。</p>
<p>我们已经学习了如何使用 SQL 在数据库中执行查询、获取数据、插入新的记录、删除记录以及更新记录。</p>
<p>我们已经学习了如何通过 SQL 创建数据库、表、索引，以及如何撤销它们。</p>
<p>我们已经学习了 SQL 中最重要的 Aggregate 函数。</p>
<p>SQL 是一种与数据库系统协同工作的标准语言，这些数据库系统包括 MS SQL Server、IBM DB2、Oracle、MySQL 和 MS Access 等等。</p>

    </article>
    <!-- license  -->
    
        <div class="license-wrapper">
            <p>原文作者: <a href="https://haojiaqiang.github.io">Hayato</a>
            <p>原文链接: <a href="https://haojiaqiang.github.io/2015/03/11/SQL/">https://haojiaqiang.github.io/2015/03/11/SQL/</a>
            <p>发表日期: <a href="https://haojiaqiang.github.io/2015/03/11/SQL/">March 11th 2015, 3:23:06 pm</a>
            <p>版权声明: <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC-SA 4.0</a></p>
        </div>
    
    <!-- paginator  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href= "/2015/03/30/SQL查询实现方式/" title= SQL查询实现方式 >
                    <div class="nextTitle">SQL查询实现方式</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2015/01/01/How-does-the-program-run/" title= 程序是怎样跑起来的 >
                    <div class="prevTitle">程序是怎样跑起来的</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
    <!--PC和WAP自适应版-->

    <!--PC版-->


    
    

    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
    
        
            
                <a href="https://github.com/haojiaqiang" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            
                <a href="https://about.me/haojiaqiang" class="iconfont-archer others" target="_blank" title=others></a>
            
        
    
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
    
     
    <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
    
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#——————-SQL基础-——————"><span class="toc-number">1.</span> <span class="toc-text">—————— SQL基础 ——————</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL介绍"><span class="toc-number">1.1.</span> <span class="toc-text">SQL介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-是什么"><span class="toc-number">1.1.1.</span> <span class="toc-text">SQL 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-能做什么"><span class="toc-number">1.1.2.</span> <span class="toc-text">SQL 能做什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在网站上如何使用-SQL"><span class="toc-number">1.1.3.</span> <span class="toc-text">在网站上如何使用 SQL?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL语句"><span class="toc-number">1.2.</span> <span class="toc-text">SQL语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL语句的大小写问题"><span class="toc-number">1.2.1.</span> <span class="toc-text">SQL语句的大小写问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-语句后面的分号问题"><span class="toc-number">1.2.2.</span> <span class="toc-text">SQL 语句后面的分号问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一些重要的-SQL-命令："><span class="toc-number">1.2.3.</span> <span class="toc-text">一些重要的 SQL 命令：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-SELECT语句"><span class="toc-number">1.3.</span> <span class="toc-text">SQL SELECT语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-WHERE语句"><span class="toc-number">1.4.</span> <span class="toc-text">SQL WHERE语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#WHERE-子句中的运算符"><span class="toc-number">1.4.1.</span> <span class="toc-text">WHERE 子句中的运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-AND与OR关键字"><span class="toc-number">1.5.</span> <span class="toc-text">SQL AND与OR关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-ORDER-BY关键字"><span class="toc-number">1.6.</span> <span class="toc-text">SQL ORDER BY关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-INSERT-INTO语句"><span class="toc-number">1.7.</span> <span class="toc-text">SQL INSERT INTO语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-DELETE语句"><span class="toc-number">1.8.</span> <span class="toc-text">SQL DELETE语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-UPDATE语句"><span class="toc-number">1.9.</span> <span class="toc-text">SQL UPDATE语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#——————-SQL高级-——————"><span class="toc-number">2.</span> <span class="toc-text">—————— SQL高级 ——————</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-SELECT-TOP-LIMIT-ROWNUM-子句"><span class="toc-number">2.1.</span> <span class="toc-text">SQL SELECT TOP, LIMIT, ROWNUM 子句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server-MS-Access-语法"><span class="toc-number">2.1.1.</span> <span class="toc-text">SQL Server / MS Access 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-语法"><span class="toc-number">2.1.2.</span> <span class="toc-text">MySQL 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Oracle-语法"><span class="toc-number">2.1.3.</span> <span class="toc-text">Oracle 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例-1"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#演示数据库"><span class="toc-number">2.1.4.</span> <span class="toc-text">演示数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-SELECT-LIMIT-实例"><span class="toc-number">2.1.5.</span> <span class="toc-text">MySQL SELECT LIMIT 实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例-2"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-SELECT-TOP-PERCENT-实例"><span class="toc-number">2.1.6.</span> <span class="toc-text">SQL SELECT TOP PERCENT 实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例-3"><span class="toc-number">2.1.6.1.</span> <span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-LIKE-操作符"><span class="toc-number">2.2.</span> <span class="toc-text">SQL LIKE 操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LIKE-语法"><span class="toc-number">2.2.1.</span> <span class="toc-text">SQL LIKE 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-4"><span class="toc-number">2.2.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-通配符"><span class="toc-number">2.3.</span> <span class="toc-text">SQL 通配符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-SQL-通配符"><span class="toc-number">2.3.1.</span> <span class="toc-text">使用 SQL % 通配符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-SQL-通配符-1"><span class="toc-number">2.3.2.</span> <span class="toc-text">使用 SQL _ 通配符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-SQL-charlist-通配符"><span class="toc-number">2.3.3.</span> <span class="toc-text">使用 SQL [charlist] 通配符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-IN-操作符"><span class="toc-number">2.4.</span> <span class="toc-text">SQL IN 操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-IN-语法"><span class="toc-number">2.4.1.</span> <span class="toc-text">SQL IN 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-5"><span class="toc-number">2.4.2.</span> <span class="toc-text">实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IN-与-的异同"><span class="toc-number">2.4.3.</span> <span class="toc-text">IN 与 = 的异同</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-BETWEEN-操作符"><span class="toc-number">2.5.</span> <span class="toc-text">SQL BETWEEN 操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-BETWEEN-语法"><span class="toc-number">2.5.1.</span> <span class="toc-text">SQL BETWEEN 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-6"><span class="toc-number">2.5.2.</span> <span class="toc-text">实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NOT-BETWEEN-操作符实例"><span class="toc-number">2.5.3.</span> <span class="toc-text">NOT BETWEEN 操作符实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带有-IN-的-BETWEEN-操作符实例"><span class="toc-number">2.5.4.</span> <span class="toc-text">带有 IN 的 BETWEEN 操作符实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带有文本值的-BETWEEN-操作符实例"><span class="toc-number">2.5.5.</span> <span class="toc-text">带有文本值的 BETWEEN 操作符实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带有文本值的-NOT-BETWEEN-操作符实例"><span class="toc-number">2.5.6.</span> <span class="toc-text">带有文本值的 NOT BETWEEN 操作符实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带有日期值的-BETWEEN-操作符实例"><span class="toc-number">2.5.7.</span> <span class="toc-text">带有日期值的 BETWEEN 操作符实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-别名"><span class="toc-number">2.6.</span> <span class="toc-text">SQL 别名</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#列的-SQL-别名语法"><span class="toc-number">2.6.1.</span> <span class="toc-text">列的 SQL 别名语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表的-SQL-别名语法"><span class="toc-number">2.6.2.</span> <span class="toc-text">表的 SQL 别名语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-7"><span class="toc-number">2.6.3.</span> <span class="toc-text">实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表的别名实例"><span class="toc-number">2.6.4.</span> <span class="toc-text">表的别名实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-连接-JOIN"><span class="toc-number">2.7.</span> <span class="toc-text">SQL 连接(JOIN)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-8"><span class="toc-number">2.7.1.</span> <span class="toc-text">实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不同的-SQL-JOIN"><span class="toc-number">2.7.2.</span> <span class="toc-text">不同的 SQL JOIN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记"><span class="toc-number">2.7.3.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-INNER-JOIN"><span class="toc-number">2.8.</span> <span class="toc-text">SQL INNER JOIN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-INNER-JOIN-语法"><span class="toc-number">2.8.1.</span> <span class="toc-text">SQL INNER JOIN 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-9"><span class="toc-number">2.8.2.</span> <span class="toc-text">实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记-1"><span class="toc-number">2.8.3.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-LEFT-JOIN"><span class="toc-number">2.9.</span> <span class="toc-text">SQL LEFT JOIN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LEFT-JOIN-语法"><span class="toc-number">2.9.1.</span> <span class="toc-text">SQL LEFT JOIN 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-10"><span class="toc-number">2.9.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-RIGHT-JOIN"><span class="toc-number">2.10.</span> <span class="toc-text">SQL RIGHT JOIN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-RIGHT-JOIN-语法"><span class="toc-number">2.10.1.</span> <span class="toc-text">SQL RIGHT JOIN 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-11"><span class="toc-number">2.10.2.</span> <span class="toc-text">实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FULL-OUTER-JOIN"><span class="toc-number">2.10.3.</span> <span class="toc-text">FULL OUTER JOIN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-FULL-OUTER-JOIN-语法"><span class="toc-number">2.10.4.</span> <span class="toc-text">SQL FULL OUTER JOIN 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-12"><span class="toc-number">2.10.5.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNION-操作符"><span class="toc-number">2.11.</span> <span class="toc-text">UNION 操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-UNION-语法"><span class="toc-number">2.11.1.</span> <span class="toc-text">SQL UNION 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-UNION-ALL-语法"><span class="toc-number">2.11.2.</span> <span class="toc-text">SQL UNION ALL 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-UNION-实例"><span class="toc-number">2.11.3.</span> <span class="toc-text">SQL UNION 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-UNION-ALL-实例"><span class="toc-number">2.11.4.</span> <span class="toc-text">SQL UNION ALL 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带有-WHERE-的-SQL-UNION-ALL"><span class="toc-number">2.11.5.</span> <span class="toc-text">带有 WHERE 的 SQL UNION ALL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记-2"><span class="toc-number">2.11.6.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SELECT-INTO-语句"><span class="toc-number">2.12.</span> <span class="toc-text">SELECT INTO 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-SELECT-INTO-语法"><span class="toc-number">2.12.1.</span> <span class="toc-text">SQL SELECT INTO 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-13"><span class="toc-number">2.12.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#INSERT-INTO-SELECT-语句"><span class="toc-number">2.13.</span> <span class="toc-text">INSERT INTO SELECT 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-INSERT-INTO-SELECT-语法"><span class="toc-number">2.13.1.</span> <span class="toc-text">SQL INSERT INTO SELECT 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-14"><span class="toc-number">2.13.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CREATE-DATABASE-语句"><span class="toc-number">2.14.</span> <span class="toc-text">CREATE DATABASE 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-DATABASE-语法"><span class="toc-number">2.14.1.</span> <span class="toc-text">SQL CREATE DATABASE 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-15"><span class="toc-number">2.14.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CREATE-TABLE-语句"><span class="toc-number">2.15.</span> <span class="toc-text">CREATE TABLE 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-TABLE-语法"><span class="toc-number">2.15.1.</span> <span class="toc-text">SQL CREATE TABLE 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-16"><span class="toc-number">2.15.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#约束（Constraints）"><span class="toc-number">2.16.</span> <span class="toc-text">约束（Constraints）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-TABLE-CONSTRAINT-语法"><span class="toc-number">2.16.1.</span> <span class="toc-text">SQL CREATE TABLE + CONSTRAINT 语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NOT-NULL-约束"><span class="toc-number">2.17.</span> <span class="toc-text">NOT NULL 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-NOT-NULL-约束"><span class="toc-number">2.17.1.</span> <span class="toc-text">SQL NOT NULL 约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNIQUE-约束"><span class="toc-number">2.18.</span> <span class="toc-text">UNIQUE 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CREATE-TABLE-时的-SQL-UNIQUE-约束"><span class="toc-number">2.18.1.</span> <span class="toc-text">CREATE TABLE 时的 SQL UNIQUE 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ALTER-TABLE-时的-SQL-UNIQUE-约束"><span class="toc-number">2.18.2.</span> <span class="toc-text">ALTER TABLE 时的 SQL UNIQUE 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销-UNIQUE-约束"><span class="toc-number">2.18.3.</span> <span class="toc-text">撤销 UNIQUE 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记-3"><span class="toc-number">2.18.4.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PRIMARY-KEY-约束"><span class="toc-number">2.19.</span> <span class="toc-text">PRIMARY KEY 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CREATE-TABLE-时的-SQL-PRIMARY-KEY-约束"><span class="toc-number">2.19.1.</span> <span class="toc-text">CREATE TABLE 时的 SQL PRIMARY KEY 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ALTER-TABLE-时的-SQL-PRIMARY-KEY-约束"><span class="toc-number">2.19.2.</span> <span class="toc-text">ALTER TABLE 时的 SQL PRIMARY KEY 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销-PRIMARY-KEY-约束"><span class="toc-number">2.19.3.</span> <span class="toc-text">撤销 PRIMARY KEY 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记-4"><span class="toc-number">2.19.4.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FOREIGN-KEY-约束"><span class="toc-number">2.20.</span> <span class="toc-text">FOREIGN KEY 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-FOREIGN-KEY-约束"><span class="toc-number">2.20.1.</span> <span class="toc-text">SQL FOREIGN KEY 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CREATE-TABLE-时的-SQL-FOREIGN-KEY-约束"><span class="toc-number">2.20.2.</span> <span class="toc-text">CREATE TABLE 时的 SQL FOREIGN KEY 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ALTER-TABLE-时的-SQL-FOREIGN-KEY-约束"><span class="toc-number">2.20.3.</span> <span class="toc-text">ALTER TABLE 时的 SQL FOREIGN KEY 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销-FOREIGN-KEY-约束"><span class="toc-number">2.20.4.</span> <span class="toc-text">撤销 FOREIGN KEY 约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CHECK-约束"><span class="toc-number">2.21.</span> <span class="toc-text">CHECK 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CREATE-TABLE-时的-SQL-CHECK-约束"><span class="toc-number">2.21.1.</span> <span class="toc-text">CREATE TABLE 时的 SQL CHECK 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ALTER-TABLE-时的-SQL-CHECK-约束"><span class="toc-number">2.21.2.</span> <span class="toc-text">ALTER TABLE 时的 SQL CHECK 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销-CHECK-约束"><span class="toc-number">2.21.3.</span> <span class="toc-text">撤销 CHECK 约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DEFAULT-约束"><span class="toc-number">2.22.</span> <span class="toc-text">DEFAULT 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CREATE-TABLE-时的-SQL-DEFAULT-约束"><span class="toc-number">2.22.1.</span> <span class="toc-text">CREATE TABLE 时的 SQL DEFAULT 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ALTER-TABLE-时的-SQL-DEFAULT-约束"><span class="toc-number">2.22.2.</span> <span class="toc-text">ALTER TABLE 时的 SQL DEFAULT 约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销-DEFAULT-约束"><span class="toc-number">2.22.3.</span> <span class="toc-text">撤销 DEFAULT 约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CREATE-INDEX-语句"><span class="toc-number">2.23.</span> <span class="toc-text">CREATE INDEX 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#索引"><span class="toc-number">2.23.1.</span> <span class="toc-text">索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-INDEX-语法"><span class="toc-number">2.23.2.</span> <span class="toc-text">SQL CREATE INDEX 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-UNIQUE-INDEX-语法"><span class="toc-number">2.23.3.</span> <span class="toc-text">SQL CREATE UNIQUE INDEX 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CREATE-INDEX-实例"><span class="toc-number">2.23.4.</span> <span class="toc-text">CREATE INDEX 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#撤销索引、撤销表以及撤销数据库"><span class="toc-number">2.24.</span> <span class="toc-text">撤销索引、撤销表以及撤销数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DROP-INDEX-语句"><span class="toc-number">2.24.1.</span> <span class="toc-text">DROP INDEX 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#用于-MS-Access-的-DROP-INDEX-语法："><span class="toc-number">2.24.1.1.</span> <span class="toc-text">用于 MS Access 的 DROP INDEX 语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用于-MS-SQL-Server-的-DROP-INDEX-语法："><span class="toc-number">2.24.1.2.</span> <span class="toc-text">用于 MS SQL Server 的 DROP INDEX 语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用于-DB2-Oracle-的-DROP-INDEX-语法："><span class="toc-number">2.24.1.3.</span> <span class="toc-text">用于 DB2/Oracle 的 DROP INDEX 语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用于-MySQL-的-DROP-INDEX-语法："><span class="toc-number">2.24.1.4.</span> <span class="toc-text">用于 MySQL 的 DROP INDEX 语法：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DROP-TABLE-语句"><span class="toc-number">2.24.2.</span> <span class="toc-text">DROP TABLE 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DROP-DATABASE-语句"><span class="toc-number">2.24.3.</span> <span class="toc-text">DROP DATABASE 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TRUNCATE-TABLE-语句"><span class="toc-number">2.24.4.</span> <span class="toc-text">TRUNCATE TABLE 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ALTER-TABLE-语句"><span class="toc-number">2.25.</span> <span class="toc-text">ALTER TABLE 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-ALTER-TABLE-语法"><span class="toc-number">2.25.1.</span> <span class="toc-text">SQL ALTER TABLE 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-ALTER-TABLE-实例"><span class="toc-number">2.25.2.</span> <span class="toc-text">SQL ALTER TABLE 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#改变数据类型实例"><span class="toc-number">2.25.3.</span> <span class="toc-text">改变数据类型实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DROP-COLUMN-实例"><span class="toc-number">2.25.4.</span> <span class="toc-text">DROP COLUMN 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AUTO-INCREMENT-字段"><span class="toc-number">2.26.</span> <span class="toc-text">AUTO INCREMENT 字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#用于-MySQL-的语法"><span class="toc-number">2.26.1.</span> <span class="toc-text">用于 MySQL 的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用于-SQL-Server-的语法"><span class="toc-number">2.26.2.</span> <span class="toc-text">用于 SQL Server 的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用于-Access-的语法"><span class="toc-number">2.26.3.</span> <span class="toc-text">用于 Access 的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#语法-for-Oracle"><span class="toc-number">2.26.4.</span> <span class="toc-text">语法 for Oracle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记-5"><span class="toc-number">2.26.5.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-视图（Views）"><span class="toc-number">2.27.</span> <span class="toc-text">SQL 视图（Views）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-VIEW-语句"><span class="toc-number">2.27.1.</span> <span class="toc-text">SQL CREATE VIEW 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-VIEW-语法"><span class="toc-number">2.27.2.</span> <span class="toc-text">SQL CREATE VIEW 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-CREATE-VIEW-实例"><span class="toc-number">2.27.3.</span> <span class="toc-text">SQL CREATE VIEW 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-更新视图"><span class="toc-number">2.27.4.</span> <span class="toc-text">SQL 更新视图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL-CREATE-OR-REPLACE-VIEW-语法"><span class="toc-number">2.27.4.1.</span> <span class="toc-text">SQL CREATE OR REPLACE VIEW 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL-Server"><span class="toc-number">2.27.4.2.</span> <span class="toc-text">SQL Server</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-撤销视图"><span class="toc-number">2.27.5.</span> <span class="toc-text">SQL 撤销视图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL-DROP-VIEW-语法"><span class="toc-number">2.27.5.1.</span> <span class="toc-text">SQL DROP VIEW 语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date-函数"><span class="toc-number">2.28.</span> <span class="toc-text">Date 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-日期（Dates）"><span class="toc-number">2.28.1.</span> <span class="toc-text">SQL 日期（Dates）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-Date-函数"><span class="toc-number">2.28.2.</span> <span class="toc-text">MySQL Date 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server-Date-函数"><span class="toc-number">2.28.3.</span> <span class="toc-text">SQL Server Date 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Date-数据类型"><span class="toc-number">2.28.4.</span> <span class="toc-text">SQL Date 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server-使用下列数据类型在数据库中存储日期或日期-时间值："><span class="toc-number">2.28.5.</span> <span class="toc-text">SQL Server 使用下列数据类型在数据库中存储日期或日期/时间值：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NULL-值"><span class="toc-number">2.29.</span> <span class="toc-text">NULL 值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-NULL-值"><span class="toc-number">2.29.1.</span> <span class="toc-text">SQL NULL 值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-的-NULL-值处理"><span class="toc-number">2.29.2.</span> <span class="toc-text">SQL 的 NULL 值处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-IS-NULL"><span class="toc-number">2.29.3.</span> <span class="toc-text">SQL IS NULL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-IS-NOT-NULL"><span class="toc-number">2.29.4.</span> <span class="toc-text">SQL IS NOT NULL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NULL-函数"><span class="toc-number">2.30.</span> <span class="toc-text">NULL 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-ISNULL-、NVL-、IFNULL-和-COALESCE-函数"><span class="toc-number">2.30.1.</span> <span class="toc-text">SQL ISNULL()、NVL()、IFNULL() 和 COALESCE() 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记-6"><span class="toc-number">2.30.2.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通用数据类型"><span class="toc-number">2.31.</span> <span class="toc-text">通用数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-通用数据类型"><span class="toc-number">2.31.1.</span> <span class="toc-text">SQL 通用数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-数据类型快速参考手册"><span class="toc-number">2.31.2.</span> <span class="toc-text">SQL 数据类型快速参考手册</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#用于各种数据库的数据类型"><span class="toc-number">2.32.</span> <span class="toc-text">用于各种数据库的数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Microsoft-Access-数据类型"><span class="toc-number">2.32.1.</span> <span class="toc-text">Microsoft Access 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-数据类型"><span class="toc-number">2.32.2.</span> <span class="toc-text">MySQL 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server-数据类型"><span class="toc-number">2.32.3.</span> <span class="toc-text">SQL Server 数据类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#——————-SQL函数-——————"><span class="toc-number">3.</span> <span class="toc-text">—————— SQL函数 ——————</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-函数"><span class="toc-number">3.1.</span> <span class="toc-text">SQL 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Aggregate-函数"><span class="toc-number">3.1.1.</span> <span class="toc-text">Aggregate 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scalar-函数"><span class="toc-number">3.1.2.</span> <span class="toc-text">Scalar 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#演示数据库-1"><span class="toc-number">3.1.3.</span> <span class="toc-text">演示数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AVG-函数"><span class="toc-number">3.2.</span> <span class="toc-text">AVG() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-AVG-语法"><span class="toc-number">3.2.1.</span> <span class="toc-text">SQL AVG() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例-17"><span class="toc-number">3.2.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#COUNT-函数"><span class="toc-number">3.3.</span> <span class="toc-text">COUNT() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-COUNT-column-name-语法"><span class="toc-number">3.3.1.</span> <span class="toc-text">SQL COUNT(column_name) 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-COUNT-DISTINCT-column-name-语法"><span class="toc-number">3.3.2.</span> <span class="toc-text">SQL COUNT(DISTINCT column_name) 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-COUNT-column-name-实例"><span class="toc-number">3.3.3.</span> <span class="toc-text">SQL COUNT(column_name) 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-COUNT-实例"><span class="toc-number">3.3.4.</span> <span class="toc-text">SQL COUNT(*) 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-COUNT-DISTINCT-column-name-实例"><span class="toc-number">3.3.5.</span> <span class="toc-text">SQL COUNT(DISTINCT column_name) 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#笔记-7"><span class="toc-number">3.3.6.</span> <span class="toc-text">笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FIRST-函数"><span class="toc-number">3.4.</span> <span class="toc-text">FIRST() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-FIRST-语法"><span class="toc-number">3.4.1.</span> <span class="toc-text">SQL FIRST() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server、MySQL-和-Oracle-中的-SQL-FIRST-工作区"><span class="toc-number">3.4.2.</span> <span class="toc-text">SQL Server、MySQL 和 Oracle 中的 SQL FIRST() 工作区</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL-Server-语法"><span class="toc-number">3.4.2.1.</span> <span class="toc-text">SQL Server 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL-语法-1"><span class="toc-number">3.4.2.2.</span> <span class="toc-text">MySQL 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Oracle-语法-1"><span class="toc-number">3.4.2.3.</span> <span class="toc-text">Oracle 语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-FIRST-实例"><span class="toc-number">3.4.3.</span> <span class="toc-text">SQL FIRST() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LAST-函数"><span class="toc-number">3.5.</span> <span class="toc-text">LAST() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LAST-语法"><span class="toc-number">3.5.1.</span> <span class="toc-text">SQL LAST() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server、MySQL-和-Oracle-中的-SQL-LAST-工作区"><span class="toc-number">3.5.2.</span> <span class="toc-text">SQL Server、MySQL 和 Oracle 中的 SQL LAST() 工作区</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL-Server-语法-1"><span class="toc-number">3.5.2.1.</span> <span class="toc-text">SQL Server 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL-语法-2"><span class="toc-number">3.5.2.2.</span> <span class="toc-text">MySQL 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Oracle-语法-2"><span class="toc-number">3.5.2.3.</span> <span class="toc-text">Oracle 语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LAST-实例"><span class="toc-number">3.5.3.</span> <span class="toc-text">SQL LAST() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MAX-函数"><span class="toc-number">3.6.</span> <span class="toc-text">MAX() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-MAX-语法"><span class="toc-number">3.6.1.</span> <span class="toc-text">SQL MAX() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-MAX-实例"><span class="toc-number">3.6.2.</span> <span class="toc-text">SQL MAX() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MIN-Function"><span class="toc-number">3.7.</span> <span class="toc-text">MIN() Function</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-MIN-语法"><span class="toc-number">3.7.1.</span> <span class="toc-text">SQL MIN() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-MIN-实例"><span class="toc-number">3.7.2.</span> <span class="toc-text">SQL MIN() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SUM-函数"><span class="toc-number">3.8.</span> <span class="toc-text">SUM() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-SUM-语法"><span class="toc-number">3.8.1.</span> <span class="toc-text">SQL SUM() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-SUM-实例"><span class="toc-number">3.8.2.</span> <span class="toc-text">SQL SUM() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GROUP-BY-语句"><span class="toc-number">3.9.</span> <span class="toc-text">GROUP BY 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-GROUP-BY-语法"><span class="toc-number">3.9.1.</span> <span class="toc-text">SQL GROUP BY 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GROUP-BY-简单应用"><span class="toc-number">3.9.2.</span> <span class="toc-text">GROUP BY 简单应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-GROUP-BY-多表连接"><span class="toc-number">3.9.3.</span> <span class="toc-text">SQL GROUP BY 多表连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HAVING-子句"><span class="toc-number">3.10.</span> <span class="toc-text">HAVING 子句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-HAVING-语法"><span class="toc-number">3.10.1.</span> <span class="toc-text">SQL HAVING 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-HAVING-实例"><span class="toc-number">3.10.2.</span> <span class="toc-text">SQL HAVING 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-HAVING-实例-1"><span class="toc-number">3.10.3.</span> <span class="toc-text">SQL HAVING 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UCASE-函数"><span class="toc-number">3.11.</span> <span class="toc-text">UCASE() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-UCASE-语法"><span class="toc-number">3.11.1.</span> <span class="toc-text">SQL UCASE() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用于-SQL-Server-的语法-1"><span class="toc-number">3.11.2.</span> <span class="toc-text">用于 SQL Server 的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-UCASE-实例"><span class="toc-number">3.11.3.</span> <span class="toc-text">SQL UCASE() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LCASE-函数"><span class="toc-number">3.12.</span> <span class="toc-text">LCASE() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LCASE-语法"><span class="toc-number">3.12.1.</span> <span class="toc-text">SQL LCASE() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用于-SQL-Server-的语法-2"><span class="toc-number">3.12.2.</span> <span class="toc-text">用于 SQL Server 的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LCASE-实例"><span class="toc-number">3.12.3.</span> <span class="toc-text">SQL LCASE() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MID-函数"><span class="toc-number">3.13.</span> <span class="toc-text">MID() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-MID-语法"><span class="toc-number">3.13.1.</span> <span class="toc-text">SQL MID() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-MID-实例"><span class="toc-number">3.13.2.</span> <span class="toc-text">SQL MID() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LEN-函数"><span class="toc-number">3.14.</span> <span class="toc-text">LEN() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LEN-语法"><span class="toc-number">3.14.1.</span> <span class="toc-text">SQL LEN() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-LEN-实例"><span class="toc-number">3.14.2.</span> <span class="toc-text">SQL LEN() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ROUND-函数"><span class="toc-number">3.15.</span> <span class="toc-text">ROUND() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-ROUND-语法"><span class="toc-number">3.15.1.</span> <span class="toc-text">SQL ROUND() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-ROUND-实例"><span class="toc-number">3.15.2.</span> <span class="toc-text">SQL ROUND() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NOW-函数"><span class="toc-number">3.16.</span> <span class="toc-text">NOW() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-NOW-语法"><span class="toc-number">3.16.1.</span> <span class="toc-text">SQL NOW() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-NOW-实例"><span class="toc-number">3.16.2.</span> <span class="toc-text">SQL NOW() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FORMAT-函数"><span class="toc-number">3.17.</span> <span class="toc-text">FORMAT() 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-FORMAT-语法"><span class="toc-number">3.17.1.</span> <span class="toc-text">SQL FORMAT() 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-FORMAT-实例"><span class="toc-number">3.17.2.</span> <span class="toc-text">SQL FORMAT() 实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#快速参考"><span class="toc-number">3.18.</span> <span class="toc-text">快速参考</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-主机"><span class="toc-number">3.19.</span> <span class="toc-text">SQL 主机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-总结"><span class="toc-number">3.20.</span> <span class="toc-text">SQL 总结</span></a></li></ol></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 20
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2020 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/19</span><a class="archive-post-title" href= "/2020/11/19/网游加速器原理/" >网游加速器原理、技术与实现</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/30</span><a class="archive-post-title" href= "/2017/11/30/关于死锁的几个经典问题/" >关于死锁的几个经典问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/03</span><a class="archive-post-title" href= "/2017/09/03/howRuntimeWorks/" >彻底理解Runtime</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/29</span><a class="archive-post-title" href= "/2017/06/29/Runloop/" >Runloop</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/08</span><a class="archive-post-title" href= "/2017/05/08/Computer-Networking-A-Top-Down-Approach-NOTES/" >计算机网络 自顶向下方法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/19</span><a class="archive-post-title" href= "/2017/04/19/GCD-queue-and-sync-async/" >GCD队列与同步异步的组合</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span><a class="archive-post-title" href= "/2017/01/02/iOS-Core-Animation/" >iOS Core Animation</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2016 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/20</span><a class="archive-post-title" href= "/2016/11/20/Design-Pattern-Odyssey/" >大话设计模式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/30</span><a class="archive-post-title" href= "/2016/09/30/Algorithms/" >Algorithms</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/30</span><a class="archive-post-title" href= "/2016/09/30/操作系统原理/" >操作系统原理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/08</span><a class="archive-post-title" href= "/2016/09/08/Effective-Objective-C-2-0/" >Effective Objective-C 2.0 编写高质量iOS与OS X代码的52个有效方法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/03</span><a class="archive-post-title" href= "/2016/08/03/SwiftGrammar/" >SwiftGrammar</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/22</span><a class="archive-post-title" href= "/2016/05/22/Computer-Systems-A-Programmer-s-Perspective/" >深入理解计算机系统</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/22</span><a class="archive-post-title" href= "/2016/04/22/Pro-multithreading-and-memory-management-for-iOS-and-OS-X/" >Object-C 高级编程 iOS和OS X多线程和内存管理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/12</span><a class="archive-post-title" href= "/2016/03/12/git/" >Git</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2015 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/25</span><a class="archive-post-title" href= "/2015/06/25/special-kind-of-pointer/" >几种特殊指针的含义区别</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/08</span><a class="archive-post-title" href= "/2015/05/08/InstallShadowsocks/" >部署Shadowsocks</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/30</span><a class="archive-post-title" href= "/2015/03/30/SQL查询实现方式/" >SQL查询实现方式</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/11</span><a class="archive-post-title" href= "/2015/03/11/SQL/" >SQL</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/01</span><a class="archive-post-title" href= "/2015/01/01/How-does-the-program-run/" >程序是怎样跑起来的</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="设计模式"><span class="iconfont-archer">&#xe606;</span>设计模式</span>
    
        <span class="sidebar-tag-name" data-tags="app"><span class="iconfont-archer">&#xe606;</span>app</span>
    
        <span class="sidebar-tag-name" data-tags="async"><span class="iconfont-archer">&#xe606;</span>async</span>
    
        <span class="sidebar-tag-name" data-tags="sync"><span class="iconfont-archer">&#xe606;</span>sync</span>
    
        <span class="sidebar-tag-name" data-tags="queue"><span class="iconfont-archer">&#xe606;</span>queue</span>
    
        <span class="sidebar-tag-name" data-tags="多线程"><span class="iconfont-archer">&#xe606;</span>多线程</span>
    
        <span class="sidebar-tag-name" data-tags="内存管理"><span class="iconfont-archer">&#xe606;</span>内存管理</span>
    
        <span class="sidebar-tag-name" data-tags="SQL"><span class="iconfont-archer">&#xe606;</span>SQL</span>
    
        <span class="sidebar-tag-name" data-tags="pointer"><span class="iconfont-archer">&#xe606;</span>pointer</span>
    
        <span class="sidebar-tag-name" data-tags="id"><span class="iconfont-archer">&#xe606;</span>id</span>
    
        <span class="sidebar-tag-name" data-tags="NSObject"><span class="iconfont-archer">&#xe606;</span>NSObject</span>
    
        <span class="sidebar-tag-name" data-tags="id<NSObject>"><span class="iconfont-archer">&#xe606;</span>id<NSObject></span>
    
        <span class="sidebar-tag-name" data-tags="void *"><span class="iconfont-archer">&#xe606;</span>void *</span>
    
        <span class="sidebar-tag-name" data-tags="nil"><span class="iconfont-archer">&#xe606;</span>nil</span>
    
        <span class="sidebar-tag-name" data-tags="Nil"><span class="iconfont-archer">&#xe606;</span>Nil</span>
    
        <span class="sidebar-tag-name" data-tags="NSNull"><span class="iconfont-archer">&#xe606;</span>NSNull</span>
    
        <span class="sidebar-tag-name" data-tags="deadLock"><span class="iconfont-archer">&#xe606;</span>deadLock</span>
    
        <span class="sidebar-tag-name" data-tags="计算机系统"><span class="iconfont-archer">&#xe606;</span>计算机系统</span>
    
        <span class="sidebar-tag-name" data-tags="消息"><span class="iconfont-archer">&#xe606;</span>消息</span>
    
        <span class="sidebar-tag-name" data-tags="load"><span class="iconfont-archer">&#xe606;</span>load</span>
    
        <span class="sidebar-tag-name" data-tags="Shadowsocks"><span class="iconfont-archer">&#xe606;</span>Shadowsocks</span>
    
        <span class="sidebar-tag-name" data-tags="CentOS"><span class="iconfont-archer">&#xe606;</span>CentOS</span>
    
        <span class="sidebar-tag-name" data-tags="AWS root"><span class="iconfont-archer">&#xe606;</span>AWS root</span>
    
        <span class="sidebar-tag-name" data-tags="Swift"><span class="iconfont-archer">&#xe606;</span>Swift</span>
    
        <span class="sidebar-tag-name" data-tags="Git"><span class="iconfont-archer">&#xe606;</span>Git</span>
    
        <span class="sidebar-tag-name" data-tags="proxy"><span class="iconfont-archer">&#xe606;</span>proxy</span>
    
        <span class="sidebar-tag-name" data-tags="加速器"><span class="iconfont-archer">&#xe606;</span>加速器</span>
    
        <span class="sidebar-tag-name" data-tags="OS"><span class="iconfont-archer">&#xe606;</span>OS</span>
    
        <span class="sidebar-tag-name" data-tags="计算机网络"><span class="iconfont-archer">&#xe606;</span>计算机网络</span>
    
        <span class="sidebar-tag-name" data-tags="Runloop"><span class="iconfont-archer">&#xe606;</span>Runloop</span>
    
        <span class="sidebar-tag-name" data-tags="runtime"><span class="iconfont-archer">&#xe606;</span>runtime</span>
    
        <span class="sidebar-tag-name" data-tags="Core Animation"><span class="iconfont-archer">&#xe606;</span>Core Animation</span>
    
        <span class="sidebar-tag-name" data-tags="Algorithms"><span class="iconfont-archer">&#xe606;</span>Algorithms</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: "/",
        author: "Hayato"
    }
</script>
    <!-- CDN failover -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ === 'undefined')
        {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js">\x3C/script>')
        }
    </script>
    <script src="/scripts/main.js"></script>
    <!-- algolia -->
    
    <!-- busuanzi  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
     
    </body>
</html>


